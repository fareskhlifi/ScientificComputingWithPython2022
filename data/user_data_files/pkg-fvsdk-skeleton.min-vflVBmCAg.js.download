define("typescript/libraries/file-viewer/src/core/riviera/types",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptRivieraError=t.RivieraError=t.RivieraStatus=void 0,(function(e){e[e.Unknown=0]="Unknown",e[e.OK=1]="OK",e[e.ConversionFailure=2]="ConversionFailure",e[e.TemporaryFailure=3]="TemporaryFailure",e[e.InternalFailure=4]="InternalFailure",e[e.UnsupportedFormat=5]="UnsupportedFormat",e[e.Timeout=6]="Timeout",e[e.TooBig=7]="TooBig",e[e.InvalidMetadata=8]="InvalidMetadata",e[e.SourceCorrupt=9]="SourceCorrupt",e[e.TimeBudgetExceeded=10]="TimeBudgetExceeded",e[e.NotFound=11]="NotFound",e[e.PasswordProtected=12]="PasswordProtected",e[e.InvalidRequest=13]="InvalidRequest",e[e.VirusDetected=14]="VirusDetected",e[e.BlockMissing=15]="BlockMissing",e[e.FeatureDisabled=16]="FeatureDisabled"})(i=t.RivieraStatus||(t.RivieraStatus={}));class r extends Error{constructor(e,t=i.Unknown){super(e),this.statusCode=t}}t.RivieraError=r;t.TranscriptRivieraError=class extends r{constructor(e="error_unknown",t=i.Unknown){super(e),this.statusCode=t,this.transcriptError=e}}})),define("typescript/libraries/file-viewer/src/core/types/preview_type",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewType=void 0,(function(e){e.Archive="archive",e.Audio="audio",e.CloudDoc="cloud_doc",e.Excel="excel",e.Error="error",e.HTML="html",e.Image="image",e.Linkfile="linkfile",e.Other="other",e.SsrDoc="ssr_doc",e.RawHTML="raw_html",e.Restricted="restricted",e.Video="video",e.Loading="loading",e.Doc="doc",e.Photo="photo",e.Text="text"})(t.PreviewType||(t.PreviewType={}))})),define("metaserver/static/js/file_viewer/sdk_file_viewer/preferences_util",["require","exports","metaserver/static/js/core/persistence/storage"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMutedState=t.getMutedState=t.setVolumeState=t.getVolumeState=t.setDocSidebarIsCollapsed=t.getDocSidebarIsCollapsed=t.setRightRailBlade=t.getRightRailBlade=t.setRightRailIsCollapsed=t.getRightRailIsCollapsed=void 0;t.getRightRailIsCollapsed=function(e){var t;try{return null===(t=i.UserLocalStorage.get(e,"file_viewer_right_rail_collapsed_preference"))||void 0===t||t}catch(e){return!0}},t.setRightRailIsCollapsed=function(e,t){try{i.UserLocalStorage.set(e,"file_viewer_right_rail_collapsed_preference",t)}catch(e){}},t.getRightRailBlade=function(e){var t;try{return null!==(t=i.UserLocalStorage.get(e,"file_viewer_right_rail_blade_preference"))&&void 0!==t?t:void 0}catch(e){return}},t.setRightRailBlade=function(e,t){try{i.UserLocalStorage.set(e,"file_viewer_right_rail_blade_preference",t)}catch(e){}},t.getDocSidebarIsCollapsed=function(e){var t;try{return null===(t=i.UserLocalStorage.get(e,"file_viewer_doc_sidebar_collapsed_preference"))||void 0===t||t}catch(e){return!0}},t.setDocSidebarIsCollapsed=function(e,t){try{i.UserLocalStorage.set(e,"file_viewer_doc_sidebar_collapsed_preference",t)}catch(e){}},t.getVolumeState=function(e){var t;try{return parseFloat(null!==(t=i.UserLocalStorage.get(e,"file_viewer_video_volume_preference"))&&void 0!==t?t:1)}catch(e){return 1}},t.setVolumeState=function(e,t){try{i.UserLocalStorage.set(e,"file_viewer_video_volume_preference",t)}catch(e){}},t.getMutedState=function(e){var t;try{return null!==(t=i.UserLocalStorage.get(e,"file_viewer_video_muted_preference"))&&void 0!==t&&t}catch(e){return!1}},t.setMutedState=function(e,t){try{i.UserLocalStorage.set(e,"file_viewer_video_muted_preference",t)}catch(e){}}})),define("typescript/libraries/file-viewer/src/skeleton/preview_skeleton",["require","exports","tslib","react","typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport","typescript/libraries/file-viewer/src/core/utils/sizing_utils","typescript/libraries/file-viewer/src/skeleton/constants","typescript/libraries/file-viewer/src/logging/performance"],(function(e,t,i,r,o,a,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Skeleton=void 0,r=i.__importDefault(r);t.Skeleton=({isRightRailCollapsed:e,docSidebarCollapsed:t,preview:i,fileName:s,logPerformanceMark:c,metricsReporter:d,partialPrewarmAllowed:p,imgSizeOptimizationEnabled:u})=>{const v=(0,a.calcContentWidth)(window.innerWidth,!e),_=window.innerWidth-v,f=(0,a.calcContentHeight)(window.innerHeight,!0),g=window.innerHeight-f;return r.default.useEffect(()=>{c&&l.PreviewsEventLogger.mark(l.PreviewsTimingEvents.SKELETON_MOUNT)},[c]),r.default.createElement("div",{className:"skeleton-holder prerender-preview",style:{position:"absolute",top:0,left:0,width:"100%",height:"100vh",backgroundColor:n.FAINT_BACKGROUND}},r.default.createElement("div",{className:"skeleton-action-bar",style:{position:"relative",top:0,left:0,width:"100%",height:`${g}px`,borderBottom:n.STANDARD_BORDER,backgroundColor:n.STANDARD_BACKGROUND,boxSizing:"border-box"}}),r.default.createElement("div",{style:{display:"flex",width:"100%",height:"calc(100% - 64px)"}},r.default.createElement("div",{style:{flexGrow:1,height:"100%"}},r.default.createElement(o.SkeletonViewport,{width:v,height:f,docSidebarCollapsed:t,fileContent:i,fileName:s,logPerformanceMark:c,metricsReporter:d,partialPrewarmAllowed:p,imgSizeOptimizationEnabled:u})),_>0&&r.default.createElement("div",{className:"skeleton-right-rail",style:{width:`${_}px`,height:"100%",borderLeft:n.STANDARD_BORDER,backgroundColor:n.STANDARD_BACKGROUND}})))},t.Skeleton.displayName="Skeleton"})),define("typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport",["require","exports","tslib","react","typescript/libraries/file-viewer/src/core/types/preview_type","typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport_doc","typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport_image"],(function(e,t,i,r,o,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonViewport=t.isEligibleToShowSkeletonPreview=void 0,r=i.__importDefault(r),t.isEligibleToShowSkeletonPreview=function(e){if(!e)return!1;const t=e[".tag"];return t===o.PreviewType.Image||t===o.PreviewType.SsrDoc||t===o.PreviewType.CloudDoc};const l=({width:e,height:t,docSidebarCollapsed:i,fileContent:l,docMetadata:s,fileName:c,logPerformanceMark:d,metricsReporter:p,partialPrewarmAllowed:u,imgSizeOptimizationEnabled:v})=>{const _=null==l?void 0:l.content,f=null==_?void 0:_[".tag"],g={width:e,height:t};return r.default.createElement("div",{className:"skeleton-viewport",style:g},f===o.PreviewType.Image&&r.default.createElement(n.SkeletonViewportImage,{viewport:g,imageContent:_,dimensions:null==l?void 0:l.dimensions,logPerformanceMark:d}),f===o.PreviewType.SsrDoc&&r.default.createElement(a.SkeletonViewportDoc,{viewportWidth:e,viewportHeight:t,docSidebarCollapsed:i,docContent:_,docMetadata:s,fileName:c,logPerformanceMark:d,metricsReporter:p,partialPrewarmAllowed:u,imgSizeOptimizationEnabled:v}),f===o.PreviewType.CloudDoc&&r.default.createElement(a.SkeletonViewportDoc,{viewportWidth:e,viewportHeight:t,docSidebarCollapsed:i,docContent:_,docMetadata:s,fileName:c,logPerformanceMark:d,metricsReporter:p,partialPrewarmAllowed:u,imgSizeOptimizationEnabled:v}))};l.displayName="SkeletonViewportComponent",t.SkeletonViewport=r.default.memo(l),t.SkeletonViewport.displayName="SkeletonViewport"})),define("typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport_image",["require","exports","tslib","react","typescript/libraries/file-viewer/src/logging/performance","typescript/libraries/file-viewer/src/core/utils/sizing_const"],(function(e,t,i,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonViewportImage=void 0,r=i.__importDefault(r);t.SkeletonViewportImage=({viewport:e,imageContent:t,logPerformanceMark:i,dimensions:n})=>{const{thumbnailUrl:l,srcSet:s}={thumbnailUrl:(c=t).default_src,srcSet:c.src_set};var c;const[d,p]=r.default.useState(),[u,v]=r.default.useState(!!n),_=r.default.useMemo(()=>{const t=(null==n?void 0:n.width)||(null==d?void 0:d.width)||0,i=(null==n?void 0:n.height)||(null==d?void 0:d.height)||0;return t&&i&&v(!0),t>e.width||i>e.height},[null==n?void 0:n.height,null==n?void 0:n.width,null==d?void 0:d.height,null==d?void 0:d.width,e.height,e.width]),f=r.default.useCallback(({currentTarget:{naturalWidth:e,naturalHeight:t}})=>{e&&t&&p({height:t,width:e}),i&&o.PreviewsEventLogger.mark(o.PreviewsTimingEvents.SKELETON_IMAGE_LOAD)},[i]);return r.default.createElement("div",{style:u?{height:"100%",width:"100%"}:{height:0,width:0,overflow:"hidden"}},r.default.createElement("img",{src:l,srcSet:s,onLoad:f,style:{height:"100%",width:"100%",boxSizing:"border-box",objectFit:_?"contain":"scale-down",paddingTop:a.IMAGE_PADDING.top,paddingBottom:a.IMAGE_PADDING.bottom,paddingLeft:a.IMAGE_PADDING.horizontal/2,paddingRight:a.IMAGE_PADDING.horizontal/2},alt:""}))},t.SkeletonViewportImage.displayName="SkeletonViewportImage"})),define("typescript/libraries/file-viewer/src/skeleton/preview_skeleton_viewport_doc",["require","exports","tslib","react","typescript/libraries/file-viewer/src/preview_doc/utils/sizing","typescript/libraries/file-viewer/src/core/riviera/api","typescript/libraries/file-viewer/src/core/types/preview_type","typescript/libraries/file-viewer/src/skeleton/constants","typescript/libraries/file-viewer/src/logging/performance","typescript/libraries/file-viewer/src/core/utils/functions","typescript/libraries/file-viewer/src/core/urls","typescript/libraries/file-viewer/src/core/utils/sizing_const"],(function(e,t,i,r,o,a,n,l,s,c,d,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SkeletonViewportDoc=void 0,r=i.__importDefault(r);const u=({url:e,width:t,height:i,onImgLoad:o,sizeScale:a,srcSet:n})=>r.default.createElement("div",{className:"skeleton-page-container",style:{margin:"auto",width:`${t}px`,height:`${i}px`}},r.default.createElement("img",{className:"skeleton-image",src:e,style:{width:`${t}px`,height:`${i}px`,opacity:"60%"},alt:"",onLoad:o,sizes:a?`${a}vw`:void 0,srcSet:n}));u.displayName="SkeletonPage";t.SkeletonViewportDoc=({viewportWidth:e,viewportHeight:t,docSidebarCollapsed:i,docContent:v,docMetadata:_,fileName:f,metricsReporter:g,logPerformanceMark:h,partialPrewarmAllowed:w,imgSizeOptimizationEnabled:y})=>{const m=(function(e){if(e.image_url_tmpl)return(0,d.getDocPrewarmUrl)(e)})(v),[S,b]=r.default.useState(0),[P,D]=r.default.useState(0),[R,F]=r.default.useState(0),E=y&&"ssr_doc"===v[".tag"]?(0,d.generateSrcset)(v.image_url_tmpl,0,v.supported_widths):void 0,T=!i&&(0,o.shouldShowDocSidebar)(e,n.PreviewType.SsrDoc)?o.DOC_SIDEBAR_WIDTH:0,x=(0,o.isPpt)(f),A=r.default.useCallback(()=>{h&&s.PreviewsEventLogger.mark(s.PreviewsTimingEvents.SKELETON_DOC_IMAGE_LOAD)},[h]);return r.default.useEffect(()=>{const r=r=>{const a=(0,o.calculateDocumentScaleFactor)({width:e,height:t,dimensions:r.dimensions,isDocSidebarVisible:!i,fileName:f,scaleToFit:"width_and_height",toolbarShown:!0}),n=r.dimensions[0][0],l=r.dimensions[0][1],s=(0,o.getDocPageViewportWidth)(n*a);b(n*a),D(l*a),F(2*s)};if(_)r(_);else if(null==v?void 0:v.text_url_tmpl){const[e,t]=(0,c.calculatePageRange)(0,w);(new a.RivieraClientBase).fetchDocMetadata(v.text_url_tmpl,!0,e,t).then(e=>{const t=e.metadata;if(!t)return;r(t),s.PreviewsEventLogger.mark(s.PreviewsTimingEvents.SKELETON_DOC_RIVIERA_CALL_END);const i=document.getElementById("fvsdk-container");null==g||g.createStats({ns:"web_previews",name:"skeleton_doc_fetch_success"}).record(i?0:1)})}},[f,v,_,i,t,e,g]),r.default.createElement("div",{className:"skeleton-doc-viewport-wrapper",style:{width:`${e}px`,height:"100%",display:"flex",overflow:"hidden"}},T>0&&r.default.createElement("div",{className:"skeleton-doc-sidebar",style:{width:`${T}px`,height:"100%",boxSizing:"border-box",borderRight:l.STANDARD_BORDER,flexShrink:0}}),r.default.createElement("div",{className:"skeleton-doc-viewport",style:{display:"flex",width:"100%"}},x?r.default.createElement("div",{className:"skeleton-ppt-viewport",style:{width:"100%"}},r.default.createElement("div",{className:"skeleton-ppt-sizer",style:{height:`calc(100% - ${o.DOC_PAGE_PPT_MARGIN_BOTTOM}px)`,width:"100%",display:"flex"}},r.default.createElement(u,{width:S,height:P,url:m,onImgLoad:A,sizeScale:R,srcSet:E}))):r.default.createElement("ol",{style:{width:`${e-T}px`,height:`${P}px`,padding:0,listStyle:"none",display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden"}},r.default.createElement("li",{style:{transform:`translateY(${p.DOC_LI_MARGIN}px)`,margin:`${p.DOC_LI_MARGIN}px 0`}},r.default.createElement(u,{width:S,height:P,url:m,onImgLoad:A,sizeScale:R,srcSet:E})))))},t.SkeletonViewportDoc.displayName="SkeletonViewportDoc"})),define("typescript/libraries/file-viewer/src/skeleton/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STANDARD_BACKGROUND=t.FAINT_BACKGROUND=t.STANDARD_BORDER=void 0,t.STANDARD_BORDER="1px solid rgba(166,158,146,0.6)",t.FAINT_BACKGROUND="#f7f5f2",t.STANDARD_BACKGROUND="#FFFFFF"})),define("typescript/libraries/file-viewer/src/preview_doc/doc_sidebar.module.css",["require","exports","css!typescript/libraries/file-viewer/src/preview_doc/doc_sidebar.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnfocusedInEditMode=t.focused=t.selected=t.loader=t.thumbnail=t.isEditMode=t.containerBorder=t.open=t.container=t.border=t.sidebarWidth=t.thumbnailWidth=void 0,t.thumbnailWidth="112px",t.sidebarWidth="168px",t.border="4px",t.container="_container_4llxd_13",t.open="_open_4llxd_24",t.containerBorder="_containerBorder_4llxd_28",t.isEditMode="_isEditMode_4llxd_70",t.thumbnail="_thumbnail_4llxd_74",t.loader="_loader_4llxd_91",t.selected="_selected_4llxd_100",t.focused="_focused_4llxd_104",t.isUnfocusedInEditMode="_isUnfocusedInEditMode_4llxd_108";t.default={thumbnailWidth:"112px",sidebarWidth:"168px",border:"4px",container:"_container_4llxd_13",open:"_open_4llxd_24",containerBorder:"_containerBorder_4llxd_28",isEditMode:"_isEditMode_4llxd_70",thumbnail:"_thumbnail_4llxd_74",loader:"_loader_4llxd_91",selected:"_selected_4llxd_100",focused:"_focused_4llxd_104",isUnfocusedInEditMode:"_isUnfocusedInEditMode_4llxd_108"}})),define("typescript/libraries/file-viewer/src/preview_doc/preview_doc.module.css",["require","exports","css!typescript/libraries/file-viewer/src/preview_doc/preview_doc.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.close=t.container=t.pptFullSizer=t.pptSizer=t.pptViewport=t.pdfViewport=t.page=t.snackbar=t.imgLayer=t.internalLink=t.linksLayer=t.textLayer=t.textbox=t.findInDocHighlightSecondary=t.findInDocHighlightPrimary=t.pagePptMarginBottom=t.pageMarginTop=t.pageMarginLeft=t.pageMargin=void 0,t.pageMargin="16px",t.pageMarginLeft="24px",t.pageMarginTop="24px",t.pagePptMarginBottom="100px",t.findInDocHighlightPrimary="var(--color__accent__lime)",t.findInDocHighlightSecondary="var(--color__accent__banana)",t.textbox="_textbox_1gl8y_17",t.textLayer="_textLayer_1gl8y_22",t.linksLayer="_linksLayer_1gl8y_42",t.internalLink="_internalLink_1gl8y_52",t.imgLayer="_imgLayer_1gl8y_63",t.snackbar="_snackbar_1gl8y_90",t.page="_page_1gl8y_100",t.pdfViewport="_pdfViewport_1gl8y_104",t.pptViewport="_pptViewport_1gl8y_110",t.pptSizer="_pptSizer_1gl8y_128",t.pptFullSizer="_pptFullSizer_1gl8y_134",t.container="_container_1gl8y_144",t.close="_close_1gl8y_175";t.default={pageMargin:"16px",pageMarginLeft:"24px",pageMarginTop:"24px",pagePptMarginBottom:"100px",findInDocHighlightPrimary:"var(--color__accent__lime)",findInDocHighlightSecondary:"var(--color__accent__banana)",textbox:"_textbox_1gl8y_17",textLayer:"_textLayer_1gl8y_22",linksLayer:"_linksLayer_1gl8y_42",internalLink:"_internalLink_1gl8y_52",imgLayer:"_imgLayer_1gl8y_63",snackbar:"_snackbar_1gl8y_90",page:"_page_1gl8y_100",pdfViewport:"_pdfViewport_1gl8y_104",pptViewport:"_pptViewport_1gl8y_110",pptSizer:"_pptSizer_1gl8y_128",pptFullSizer:"_pptFullSizer_1gl8y_134",container:"_container_1gl8y_144",close:"_close_1gl8y_175"}})),define("typescript/libraries/file-viewer/src/core/utils/sizing_const",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAGE_PADDING=t.DOC_LI_MARGIN=t.DOC_EXTRA_HORIZONTAL_MARGIN=void 0,t.DOC_EXTRA_HORIZONTAL_MARGIN=30,t.DOC_LI_MARGIN=16,t.IMAGE_PADDING={top:20,bottom:120,bottomNoToolbar:20,horizontal:72}})),define("typescript/libraries/file-viewer/src/core/utils/sizing_utils",["require","exports","typescript/libraries/file-viewer/src/core/utils/sizing_const"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApproximateImageDisplaySize=t.getImageSizeScale=t.calculateImageSizerDimensions=t.calcImageFitScaleFactor=t.calcContentHeight=t.calcContentWidth=t.calculateFitBox=void 0;function r(e,t,i){return Math.min((t.width-i.horizontal)/e.width,(t.height-i.top-i.bottom)/e.height)}function o(e,t,i,r=1){const o=e.width*r,a=e.height*r;let n=0,l=0;return o<t.width&&(n=(t.width-o)/2),a<t.height&&(l=(t.height-a-i.bottom+i.top)/2),{width:o,height:a,translateX:n,translateY:l}}function a(e){return e/window.innerWidth*100/window.devicePixelRatio}t.calculateFitBox=function(e,t,i){const r=e/t;return isNaN(i)||isNaN(r)||!isFinite(r)||!isFinite(i)?[0,0]:r>i?[t*i,t]:[e,e/i]},t.calcContentWidth=function(e,t,i=!0,r=!1){return!i||r?e:e<=833?e:e-(t?329:57)},t.calcContentHeight=function(e,t){return e-(t?64:0)},t.calcImageFitScaleFactor=r,t.calculateImageSizerDimensions=o,t.getImageSizeScale=a,t.getApproximateImageDisplaySize=function(e,t){const n=r(e,t,i.IMAGE_PADDING),{width:l,height:s,translateX:c,translateY:d}=o(e,t,i.IMAGE_PADDING,n);return{width:l,height:s,translateX:c,translateY:d,sizeScale:a(l)}}})),define("typescript/libraries/file-viewer/src/core/urls",["require","exports"],(function(e,t){"use strict";function i(e,t,i,r){const o=new URL(e);return o.searchParams.set("page",t.toString()),o.searchParams.set("scale_percent",i.toString()),null!=r&&o.searchParams.set("width",r.toString()),o.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.getDocPrewarmUrl=t.getXlsImgUrl=t.generateSrcset=t.imageUrl=t.updateQueryParam=void 0,t.updateQueryParam=function(e,t){Object.keys(t).forEach(i=>{e.searchParams.set(i,t[i])})},t.imageUrl=i,t.generateSrcset=function(e,t,r){return r&&r.map(r=>`${i(e,t,0,r)} ${r}w`).join(",")},t.getXlsImgUrl=function(e,t,i){const r=new URL(e,"https://www.dropbox.com");if("/previews_asset/"===r.pathname){return(r.pathname+r.search).replace(/SHEET_PLACEHOLDER/,t.toString()).replace(/TILE_PLACEHOLDER/,i.toString())}return r.searchParams.set("sheet",t.toString()),r.searchParams.set("tile",i.toString()),r.toString()},t.getDocPrewarmUrl=function(e){return e.image_url_tmpl?i(e.image_url_tmpl,0,0):""}})),define("typescript/libraries/file-viewer/src/core/riviera/api",["require","exports","tslib","typescript/libraries/file-viewer/src/core/riviera/types","typescript/libraries/file-viewer/src/core/riviera/transform","typescript/libraries/file-viewer/src/core/types/errors","typescript/libraries/file-viewer/src/core/utils/invariant"],(function(e,t,i,r,o,a,n){"use strict";function l(e,t,i){return 401===e&&i?new r.RivieraError("Password required",r.RivieraStatus.PasswordProtected):new r.RivieraError("Load Error",t.rivieraStatusCode)}Object.defineProperty(t,"__esModule",{value:!0}),t.rivieraClient=t.RivieraClientBase=t.WebRivieraIOClient=t.excelUrl=t.textUrl=void 0;const s=e=>{let t={};try{e&&(t=JSON.parse(e))}catch(e){}return t};function c(e,t,i=0,r=50,o=!1){const a=new URL(e);return t&&a.searchParams.set("metadata","1"),void 0!==i&&(a.searchParams.set("text","1"),a.searchParams.set("page_start",i.toString()),a.searchParams.set("page_end",r.toString())),o&&a.searchParams.set("canned_file_name","spdf/audi.pdf.json"),a.toString()}function d(e,t){if(void 0===t)return e;{const i=new URL(e);return i.searchParams.set("sheet",t+""),i.toString()}}t.textUrl=c,t.excelUrl=d;class p{refreshDocBlob(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield fetch(e,{headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:new URLSearchParams({password:t||""}),credentials:"include",method:"POST"}),r=yield i.json();return{ok:i.ok,status:i.status,data:r,headers:{"x-dropbox-metadata":i.headers.get("x-dropbox-metadata"),"x-dropbox-pdf-password-needed":i.headers.get("x-dropbox-pdf-password-needed")}}}))}fetchDocMetadata(e,t,r,o,a){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield fetch(c(e,t,r,o,a),{headers:{"content-type":"application/json"},credentials:"include"});try{const e=yield i.json();return{ok:i.ok,status:i.status,data:e,headers:{"x-dropbox-metadata":i.headers.get("x-dropbox-metadata"),"x-dropbox-pdf-password-needed":i.headers.get("x-dropbox-pdf-password-needed")}}}catch(e){return{ok:!1,status:i.status,data:null,headers:{"x-dropbox-metadata":i.headers.get("x-dropbox-metadata"),"x-dropbox-pdf-password-needed":i.headers.get("x-dropbox-pdf-password-needed")}}}}))}fetchMediaMetadata(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield fetch(e,{credentials:"include"}),i=t.headers.get("x-dropbox-metadata")||"",r=yield t.json();return{ok:t.ok,status:t.status,data:r,headers:{"x-dropbox-metadata":i}}}))}fetchWaveformData(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield fetch(e,{credentials:"include"}),i=t.headers.get("x-dropbox-metadata")||"",r=yield t.json();return{ok:t.ok,status:t.status,data:r,headers:{"x-dropbox-metadata":i}}}))}fetchTranscriptData(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield fetch(e,{credentials:"include",cache:"no-cache"}),i=t.headers.get("x-dropbox-metadata")||"";try{const e=yield t.json();return{ok:t.ok,status:t.status,data:e,headers:{"x-dropbox-metadata":i}}}catch(e){return{ok:!1,status:t.status,data:null,headers:{"x-dropbox-metadata":i}}}}))}fetchLinkfileData(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield fetch(e,{credentials:t?"include":"omit",headers:{"content-type":"application/json"},method:"POST"}),r=i.headers.get("x-dropbox-metadata")||"",o={uri:(yield i.json()).uri};return{ok:i.ok,status:i.status,data:o,headers:{"x-dropbox-metadata":r}}}))}fetchExcelWorkbookLayoutData(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield fetch(d(e,t),{headers:{"content-type":"application/json"},credentials:"include",method:"POST"}),r=yield i.json(),o=i.headers.get("x-dropbox-metadata")||"";return{ok:i.ok,status:i.status,data:r,headers:{"x-dropbox-metadata":o}}}))}fetchArchiveTopLevelData(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield fetch(e,{headers:{"content-type":"application/json"},credentials:"include",method:"POST"}),i=yield t.json(),r=t.headers.get("x-dropbox-metadata")||"";return{ok:t.ok,status:t.status,data:i,headers:{"x-dropbox-metadata":r}}}))}}t.WebRivieraIOClient=p;class u{constructor(){this.ioClient=new p}refreshDocBlob(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const{data:i,status:r,ok:o,headers:a}=yield this.ioClient.refreshDocBlob(e,t);if(!o){const e="1"===a["x-dropbox-pdf-password-needed"];throw l(r,s(a["x-dropbox-metadata"]),e)}const{text:n,image:c,refresh:d}=i;return{text_url_tmpl:n,image_url_tmpl:c,refresh_url:d}}))}fetchDocMetadata(e,t=!1,r=0,o=50,a=!1){return i.__awaiter(this,void 0,void 0,(function*(){const{ok:i,data:n,status:c,headers:d}=yield this.ioClient.fetchDocMetadata(e,t,r,o,a);if(i)return n;const p="1"===d["x-dropbox-pdf-password-needed"];throw l(c,s(d["x-dropbox-metadata"]),p)}))}fetchExcelWorkbookLayoutData(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const{ok:i,data:r,status:o,headers:a}=yield this.ioClient.fetchExcelWorkbookLayoutData(e,t);if(i)return{data:r,error:void 0};return{data:void 0,error:l(o,s(a["x-dropbox-metadata"]),!1)}}))}fetchMediaMetadata(e){return i.__awaiter(this,void 0,void 0,(function*(){const{ok:t,data:i,status:r,headers:o}=yield this.ioClient.fetchMediaMetadata(e);if(t)return{data:i,error:void 0};return{data:void 0,error:l(r,s(o["x-dropbox-metadata"]),!1)}}))}fetchWaveformData(e){return i.__awaiter(this,void 0,void 0,(function*(){const{ok:t,data:i,status:r,headers:o}=yield this.ioClient.fetchWaveformData(e);if(t)return{data:i,error:void 0};return{data:void 0,error:l(r,s(o["x-dropbox-metadata"]),!1)}}))}fetchTranscriptData(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=new URL(e);e=t.toString();const{ok:i,data:r,status:o,headers:a}=yield this.ioClient.fetchTranscriptData(e);if(i)return{data:r,error:void 0};return{data:void 0,error:l(o,s(a["x-dropbox-metadata"]),!1)}}))}fetchLinkfileData(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const{ok:i,data:r,status:o,headers:a}=yield this.ioClient.fetchLinkfileData(e,t);if(i)return{data:r,error:void 0};return{data:void 0,error:l(o,s(a["x-dropbox-metadata"]),!1)}}))}fetchArchiveTopLevelData(e){return i.__awaiter(this,void 0,void 0,(function*(){const{ok:t,data:i,status:r,headers:o}=yield this.ioClient.fetchArchiveTopLevelData(e);if(t)return{data:i,error:void 0};return{data:void 0,error:l(r,s(o["x-dropbox-metadata"]),!1)}}))}fetchPageDataWithMetadata(e,r,l,s,c){return i.__awaiter(this,void 0,void 0,(function*(){const i=c&&"metadata"in c&&!c.error?c.metadata:void 0;try{const d=yield t.rivieraClient.fetchDocMetadata(e,!i,r,l);(0,n.invariant)(!!s,a.FVErrorCode.InvalidFileInfo,"Preview Data should have been available");const{image_url_tmpl:p,supported_widths:u}=s.content,v=null!=i?i:d.metadata;(0,n.invariant)(!!v,a.FVErrorCode.MalformedRivieraData,"Response from riviera ssr_doc has no metadata and we also have no existing metadata");const _=c&&"pages"in c&&!c.error?c.pages:void 0,f=v.page_count;return{data:{metadata:v,pages:(0,o.processTextAndUrl)(p,v.dimensions,f,d,_,u)},error:void 0}}catch(e){return{data:void 0,error:e}}}))}}t.RivieraClientBase=u,t.rivieraClient=new u})),define("typescript/libraries/file-viewer/src/core/types/constants",["require","exports","typescript/libraries/file-viewer/src/core/types/preview_type"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THRESHOLD_TEXT_SECOND_BATCH=t.TEXT_FIRST_BATCH_SIZE=t.DEFAULT_SUPPORTED_PREVIEW_TYPES=t.DEFAULT_EXCEL_SCALE_FACTOR=t.ZOOM_PERCENT_DELTA=t.DOC_ZOOM_MULTIPLIER=t.MIN_DOC_SCALE_FACTOR=t.MAX_DOC_SCALE_FACTOR=t.IMG_ZOOM_MULTIPLIER=t.MIN_IMG_SCALE_FACTOR=t.MAX_IMG_SCALE_FACTOR=void 0,t.MAX_IMG_SCALE_FACTOR=16,t.MIN_IMG_SCALE_FACTOR=.01,t.IMG_ZOOM_MULTIPLIER=1.25,t.MAX_DOC_SCALE_FACTOR=10,t.MIN_DOC_SCALE_FACTOR=.1,t.DOC_ZOOM_MULTIPLIER=1.1,t.ZOOM_PERCENT_DELTA=.05,t.DEFAULT_EXCEL_SCALE_FACTOR=.5,t.DEFAULT_SUPPORTED_PREVIEW_TYPES=[i.PreviewType.CloudDoc,i.PreviewType.Image,i.PreviewType.SsrDoc,i.PreviewType.Video,i.PreviewType.Audio,i.PreviewType.Archive,i.PreviewType.Excel,i.PreviewType.HTML,i.PreviewType.RawHTML,i.PreviewType.Linkfile],t.TEXT_FIRST_BATCH_SIZE=10,t.THRESHOLD_TEXT_SECOND_BATCH=7})),define("typescript/libraries/file-viewer/src/core/utils/functions",["require","exports","tslib","react","typescript/libraries/file-viewer/src/core/types/preview_type","typescript/libraries/file-viewer/src/core/utils/support","typescript/libraries/file-viewer/src/core/utils/paths","typescript/libraries/file-viewer/src/core/types/constants"],(function(e,t,i,r,o,a,n,l){"use strict";function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}Object.defineProperty(t,"__esModule",{value:!0}),t.useDebugRerender=t.calculatePageRange=t.mapMetadataToFile=t.canPreviewInPreviewDoc=t.memoizeOne=t.shallowEqual=void 0,r=i.__importStar(r),t.shallowEqual=function(e,t){if(s(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(let r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(t,i[r])||!s(e[i[r]],t[i[r]]))return!1;return!0},t.memoizeOne=function(e){let t,i,r=!1;return o=>r&&t===o?i:(i=e(o),t=o,r=!0,i)},t.canPreviewInPreviewDoc=function(e){return[o.PreviewType.CloudDoc,o.PreviewType.SsrDoc].includes((0,a.resolvePreviewType)(e))};t.mapMetadataToFile=function(e,t=!1){if(e)return{uniqueKey:e.file_id,title:e.file_name,isFolder:t,extension:(0,n.getFileExtension)(e.file_name).replace(/\./,"")}},t.calculatePageRange=function(e,t=!1){let i,r;if(!t||e>35){i=50*Math.floor(e/50),i+50-e<15&&(i+=50),r=i+50}else e<=l.TEXT_FIRST_BATCH_SIZE-l.THRESHOLD_TEXT_SECOND_BATCH?(i=0,r=l.TEXT_FIRST_BATCH_SIZE):(i=l.TEXT_FIRST_BATCH_SIZE,r=50);return[i,r]};t.useDebugRerender=(e,t)=>{const i=r.useRef(null),o=r.useRef(0);if(i.current){const r=i.current,a=o.current,n=Object.keys(e),l=Object.keys(r),s=[...new Set([...n,...l])];for(const i of s){const o=e[i],n=r[i];o!==n&&console.log(`${t} rerender ${a}: key: ${i} old: ${n}, new: ${o}`)}}i.current=e,o.current++}})),define("typescript/libraries/file-viewer/src/core/types/auth_modal",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginOrRegisterKind=t.CommentTextVariant=t.AuthMode=void 0,(function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER"})(t.AuthMode||(t.AuthMode={})),(function(e){e.DEFAULT="",e.POST="post_comment_variant",e.SUBSCRIBE="subscribe_variant"})(t.CommentTextVariant||(t.CommentTextVariant={})),(function(e){e.COMMENT="comment",e.DOWNLOAD="download",e.IMMEDIATE="immediate",e.SIDEBAR="sidebar",e.POSTDOWNLOAD="postdownload",e.POSTSAVEAS="postsaveas"})(t.LoginOrRegisterKind||(t.LoginOrRegisterKind={}))})),define("typescript/libraries/file-viewer/src/core/utils/support",["require","exports","typescript/libraries/file-viewer/src/core/types/preview_type"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePreviewType=void 0,t.resolvePreviewType=function(e){if(!e||!e.content)return i.PreviewType.Error;switch(e.content[".tag"]){case"archive":return i.PreviewType.Archive;case"audio":return i.PreviewType.Audio;case"cloud_doc":return i.PreviewType.CloudDoc;case"excel":return i.PreviewType.Excel;case"html":return i.PreviewType.HTML;case"image":return i.PreviewType.Image;case"linkfile":return i.PreviewType.Linkfile;case"raw_html":return i.PreviewType.RawHTML;case"restricted":return i.PreviewType.Restricted;case"ssr_doc":return i.PreviewType.SsrDoc;case"video":return i.PreviewType.Video;default:return i.PreviewType.Other}}})),define("typescript/libraries/file-viewer/src/preview_doc/utils/sizing",["require","exports","typescript/libraries/file-viewer/src/preview_doc/preview_doc.module.css","typescript/libraries/file-viewer/src/preview_doc/doc_sidebar.module.css","typescript/libraries/file-viewer/src/core/types/preview_type","typescript/libraries/file-viewer/src/core/utils/sizing_const","typescript/libraries/file-viewer/src/file_extension/extension_constants","typescript/libraries/file-viewer/src/core/utils/paths"],(function(e,t,i,r,o,a,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDocPageViewportWidth=t.calculateDocumentScaleFactor=t.shouldShowDocSidebar=t.isPpt=t.READABLE_DOC_FILE_TYPES=t.DOC_SIDEBAR_WIDTH=t.DOC_PAGE_MARGIN_LEFT=t.DOC_PAGE_PPT_MARGIN_BOTTOM=t.DOC_PAGE_MARGIN_TOP=t.DOC_PAGE_MARGIN=void 0,t.DOC_PAGE_MARGIN=parseInt(i.pageMargin,10),t.DOC_PAGE_MARGIN_TOP=parseInt(i.pageMarginTop,10),t.DOC_PAGE_PPT_MARGIN_BOTTOM=parseInt(i.pagePptMarginBottom,10),t.DOC_PAGE_MARGIN_LEFT=parseInt(i.pageMarginLeft,10),t.DOC_SIDEBAR_WIDTH=parseInt(r.sidebarWidth,10);const s=t.DOC_SIDEBAR_WIDTH+600;function c(e){return n.PRESENTATION_EXTS.includes((0,l.getFileExtension)(e))}t.READABLE_DOC_FILE_TYPES=[...n.PDF_EXTS,...n.WORDPROC_EXTS],t.isPpt=c,t.shouldShowDocSidebar=function(e,t){return e>=s&&(t===o.PreviewType.SsrDoc||t===o.PreviewType.CloudDoc)},t.calculateDocumentScaleFactor=function(e){const{width:i,height:r,dimensions:o,isDocSidebarVisible:n,scaleToFit:s,toolbarShown:d,fileName:p,maxWidth:u}=e;if(0===o.length)return 1;const v=Math.max(0,i-t.DOC_PAGE_MARGIN-t.DOC_PAGE_MARGIN_LEFT-(n?t.DOC_SIDEBAR_WIDTH:0)-a.DOC_EXTRA_HORIZONTAL_MARGIN),_=c(p)&&!d?Math.max(0,r-t.DOC_PAGE_MARGIN_TOP-t.DOC_PAGE_PPT_MARGIN_BOTTOM):Math.max(0,r-t.DOC_PAGE_MARGIN_TOP),f=null!=u?Math.min(v,u):v,g=_,h=t.READABLE_DOC_FILE_TYPES.includes((0,l.getFileExtension)(p)),w="width_and_height"===s&&!h,y=o.reduce((e,[t,i])=>Math.min(e,f/t,w?g/i:Number.POSITIVE_INFINITY),Number.POSITIVE_INFINITY);return Math.min(y,w?Number.POSITIVE_INFINITY:1.75)},t.getDocPageViewportWidth=function(e){return 100*e/window.innerWidth/window.devicePixelRatio}})),define("typescript/libraries/file-viewer/src/core/logging/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=t.UserActionContext=t.BackgroundEvent=t.UserAction=t.SourceContext=t.EventType=t.SessionEventType=t.SourceAction=t.DeviceType=void 0,(function(e){e.mobile="mobile",e.tablet="tablet",e.desktop="desktop"})(t.DeviceType||(t.DeviceType={})),(function(e){e.Click="click",e.DoubleClick="double_click",e.Visit="visit"})(t.SourceAction||(t.SourceAction={})),(function(e){e.FilePreviewSessionEnded="preview_session_ended",e.FilePreviewAttemptStarted="preview_attempted",e.FilePreviewSupportConfirmed="support_confirmed",e.FilePreviewSupportDenied="support_denied",e.FilePreviewDownloadAttempted="download_attempted",e.FilePreviewDownloadSucceeded="download_succeeded",e.FilePreviewDownloadFailed="download_failed",e.FilePreviewRenderSucceeded="render_succeeded",e.FilePreviewRenderFailed="render_failed",e.LifecycleFailure="lifecycle_failure",e.FilePreviewGetApp="preview_get_app"})(t.SessionEventType||(t.SessionEventType={})),(function(e){e.UserAction="user_action",e.VideoPlaybackRateChanged="playback_rate_changed",e.ExcelSheetDownloadAttempted="excel_sheet_download_attempted",e.ExcelSheetDownloadSucceeded="excel_sheet_download_succeeded",e.ExcelSheetDownloadFailed="excel_sheet_download_failed",e.ExcelSheetRenderSucceeded="excel_sheet_render_succeeded",e.ExcelSheetRenderFailed="excel_sheet_render_failed",e.Background="background"})(t.EventType||(t.EventType={})),(function(e){e.Browse="browse",e.Home="home",e.SharedLinkFile="sl_file",e.SharedLinkFolder="sl_folder",e.SharedLinkCollection="sl_collection",e.VersionHistory="version_history",e.FileViewer="file_viewer",e.Desktop="desktop",e.EmbeddedSharedLinkFile="embedded_sl_file",e.ArchiveFile="archive_file",e.Workflow="workflow",e.TrelloPreview="trello_preview",e.FileLocking="file_locking",e.Search="search",e.Recents="recents",e.Starred="starred",e.StandalonePreview="standalone_preview",e.Photos="photos",e.Collections="collections",e.HelloSign="hellosign",e.Commerce="commerce",e.Transfer="transfer",e.Dropin="dropin",e.Backup="backup",e.SharedCollection="shared_collection",e.ClientPortal="client_portal",e.PdfEditor="pdf_editor",e.CollabBrowse="collab_browse",e.DesktopCommentNotification="desktop_comment_notification",e.DesktopDetailsPaneMenu="desktop_details_pane_menu",e.DesktopPreviewPane="desktop_preview_pane",e.DesktopTray="desktop_tray",e.DesktopTrayPopoverExpand="desktop_tray_popover_expand",e.DesktopTrayContextMenu="desktop_tray_context_menu",e.Unknown="unknown"})(t.SourceContext||(t.SourceContext={})),(function(e){e.AddSuggestedComment="add_suggested_comment",e.AddToDropbox="add_to_dropbox",e.AppDownloadInterstitialClose="app_download_interstitial_close",e.AppDownloadInterstitialContinue="app_download_interstitial_continue",e.AppDownloadInterstitialInstall="app_download_interstitial_install",e.AppDownloadInterstitialView="app_download_interstitial_view",e.ArchiveNavigation="archive_navigation",e.ChangePlaybackPosition="change_playback_position",e.ClickAccountMenu="click_account_menu",e.ClickCustomLogo="click_custom_logo",e.ClickDropboxLogo="click_dropbox_logo",e.ClickNotifications="click_notifications",e.ClickSocialShareButton="click_social_share_button",e.ClosedCaptionsUnavailable="cc_unavailable",e.CloseDocSidebar="close_doc_sidebar",e.CloseViewer="close_viewer",e.CloseMobileMenu="close_mobile_menu",e.ConvertToPdf="convert_to_pdf",e.CopyToPaper="copy_to_paper",e.DecompressCloseSnackbar="decompress_close_snackbar",e.DecompressFile="decompress_file",e.DecompressRetry="decompress_retry",e.Delete="delete",e.DeleteCancel="delete_cancel",e.DeleteSuccess="delete_success",e.DeleteFailed="delete_failure",e.DeleteFailedNoPermission="delete_failure_no_permission",e.Rename="rename",e.RenameSuccess="rename_success",e.RenameFailed="rename_failure",e.Dismiss="dismiss",e.Download="download",e.FindInDocStart="find_click",e.FindInDocNext="find_next",e.FindInDocPrev="find_prev",e.FindInDocEnd="find_exit",e.FlipNext="flip_next",e.FlipPrevious="flip_prev",e.GoToFolder="go_to_folder",e.InlineSearch="inline_search",e.InviteViaEmail="invite_via_email",e.LearnMore="learn_more",e.OpenAddApps="open_add_apps",e.OpenDocSidebar="open_doc_sidebar",e.OpenFullscreenPreview="open_fullscreen_preview",e.OpenInApp="open_in_app",e.OpenInOfficeOnline="open_in_office_online",e.OpenInUnity="open_in_unity",e.OpenInUnityFolder="open_in_unity_folder",e.OpenMobileMenu="open_mobile_menu",e.OpenMoreApps="open_more_apps",e.OpenPrepareForSignature="open_prepare_for_signature",e.OpenVersionHistory="open_version_history",e.OpenWebPreview="open_web_preview",e.OpenWith="open_with",e.OpenWithAppAction="open_with_app_action",e.OpenWithCloudDocEditor="open_with_cloud_doc_editor",e.PageChange="page_change",e.PageDown="page_down",e.PageJump="page_jump",e.PageUp="page_up",e.PresentInZoom="present_in_zoom",e.PreviewFile="preview_file",e.Print="print",e.RemoveLink="remove_link",e.RequestAccess="request_access",e.RequestAccessCancel="request_access_cancel",e.RequestAccessSend="request_access_send",e.Restore="restore",e.SaveToDropbox="save_to_dropbox",e.SaveToDropboxApprove="save_to_dropbox_approve",e.SaveToDropboxCancel="save_to_dropbox_cancel",e.SaveToDropboxPersonal="save_to_dropbox_personal",e.SaveToDropboxWork="save_to_dropbox_work",e.ScrollDown="scroll_down",e.ScrollUp="scroll_up",e.SelectWorkbookContent="select_workbook_content",e.Share="share",e.ShareToAction="share_to_action",e.ShareToSlack="share_to_slack",e.ShareToTrello="share_to_trello",e.SidebarPaneSelected="sidebar_pane_selected",e.SignIn="sign_in",e.SignUp="sign_up",e.SwitchWorkbookTab="switch_workbook_tab",e.ToggleClosedCaptions="cc_toggle_click",e.ToggleClosedCaptionsSuccess="cc_toggle_success",e.ToggleCommentsOff="toggle_comments_off",e.ToggleCommentsOn="toggle_comments_on",e.ToggleFullscreenOff="toggle_fullscreen_off",e.ToggleFullscreenOn="toggle_fullscreen_on",e.ToggleShareRecept="toggle_share_receipt",e.ToggleSidebarOff="toggle_sidebar_off",e.ToggleSidebarOn="toggle_sidebar_on",e.Transfer="transfer",e.EditVideoCancel="edit_video_cancel",e.EditVideoSaveCopyClicked="edit_video_save_a_copy_clicked",e.EditVideoReplaceOriginalClicked="edit_video_replace_original_clicked",e.EditVideoSaveCopyCancel="edit_video_save_copy_cancel",e.EditVideoReplaceOriginalCancel="edit_video_replace_original_cancel",e.EditVideoSaveCopyConfirmed="edit_video_save_a_copy_confirmed",e.EditVideoReplaceOriginalConfirmed="edit_video_replace_original_confirmed",e.EditVideoDiscardChangesClicked="discard_edit_clicked",e.EditVideoDiscardChangesConfirmed="discard_edit_confirmed",e.EditVideoDiscardChangesCancel="discard_edit_cancel",e.EditVideoNewFolderAttempt="new_folder_attempt",e.EditVideoNewFolderConfirm="new_folder_confirm",e.EditVideoNewFolderSuccess="new_folder_success",e.EditVideoNewFolderFailure="new_folder_failure",e.EditVideoNewFolderCancel="new_folder_cancel",e.EditVideoUndo="edit_video_undo",e.EditVideoRedo="edit_video_redo",e.EditVideoAttempt="edit_video_attempt",e.EditVideoFailure="edit_video_failure",e.VideoPlaybackRateChanged="playback_rate_changed",e.ViewRevisions="view_revisions",e.ZoomIn="zoom_in",e.ZoomToggleOriginalOrFit="zoom_toggle_original_or_fit",e.ZoomOut="zoom_out"})(t.UserAction||(t.UserAction={})),(function(e){e.EditVideoSaveSucceeded="edit_video_save_succeeded",e.EditVideoSaveFailed="edit_video_save_failed"})(t.BackgroundEvent||(t.BackgroundEvent={})),(function(e){e.Default="",e.Toolbar="toolbar",e.DocSidebar="doc_sidebar",e.RightRail="sidebar",e.MouseWheel="mouse_wheel",e.DocReset="doc_reset",e.DocLink="doc_link",e.SurfaceGesture="surface_gesture",e.PreviewError="preview_error",e.TrayButton="tray_button",e.TitleBarMain="title_bar_main",e.Initialization="initialization",e.Keyboard="keyboard",e.PreviewContentMain="preview_content_main",e.WorkbookTabs="workbook_tabs",e.ApprovalStatus="approval_status",e.Snackbar="Snackbar",e.FindInDocSearchbar="find_in_doc_searchbar",e.MobileWebFooter="mobile_web_footer",e.MobileWebFooterLoggedOut="mobile_web_footer_logged_out",e.MobileWebMeatball="mobile_web_meatball",e.MobileWebMeatballLoggedOut="mobile_web_meatball_logged_out",e.VideoEditing="video_editing"})(t.UserActionContext||(t.UserActionContext={})),(function(e){e.LoadError="LOAD_ERROR",e.SupportError="SUPPORT_ERROR",e.ExtensionError="EXTENSION_ERROR",e.NeedFlashError="NEED_FLASH_ERROR",e.FileSizeError="FILE_SIZE_ERROR",e.PasswordProtectedError="PASSWORD_PROTECTED_ERROR",e.PendingUploadError="PENDING_UPLOAD_ERROR",e.EmptyFileError="EMPTY_FILE_ERROR",e.SymLinkError="SYM_LINK_ERROR",e.WatermarkingError="WATERMARKING_ERROR",e.UpsellError="UPSELL_ERROR",e.UnknownError="UNKNOWN_ERROR"})(t.ErrorType||(t.ErrorType={}))})),define("typescript/libraries/file-viewer/src/core/data/actions",["require","exports"],(function(e,t){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setHasShownTranscriptSettingModal=t.setIsTranscriptShowing=t.setIsClosedCaptionShowing=t.unsubscribePresence=t.subscribePresence=t.saveVideoEdit=t.cancelEditingVideo=t.editVideoAction=t.setFileViewerErrorAction=t.setPreviewLoadingAction=t.reportException=t.setMuted=t.setVolume=t.initializeVolumeAndMuted=t.overrideFloatingToolbar=t.setupGetPlayDurationSeconds=t.toggleVideoFrameSteppers=t.clearVideoRequests=t.requestVideoPause=t.requestVideoSeekRelative=t.requestVideoSeek=t.updateFiles=t.downloadFile=t.copyToDropbox=t.fetchLinkfileDataResult=t.fetchLinkfileData=t.setTranscriptError=t.setOptInToVideoTranscript=t.startTranscriptGenerating=t.fetchTranscriptDataResult=t.fetchTranscriptData=t.fetchWaveformDataResult=t.fetchWaveformData=t.fetchMediaMetadataResult=t.fetchMediaMetadata=t.switchWorkbookTab=t.updateAudioVideoPlaybackState=t.redirect=t.openFileURL=t.triggerDynamicRoutingModalCheck=t.updateArchiveExtractAllSnackbarState=t.setupArchiveFileCurrentPath=t.updateArchiveFileCurrentPath=t.fetchArchiveTopLevelDataResult=t.fetchArchiveTopLevelData=t.fetchExcelSheetLayoutDataResult=t.fetchExcelSheetLayoutData=t.hideContentPane=t.setActiveEditPlugin=t.setActiveRightRailPlugin=t.setErroredFile=t.setBootstrappedFile=t.closeViewer=t.openFullscreenPreview=t.setBrandingInfo=t.setSharedLinkInfo=t.setPreviewMetadata=t.setFileMetadata=t.flipToPreviousFile=t.flipToNextFile=t.openUrl=t.openVersionHistory=t.openWebPreview=t.initializeFileViewer=t.openWith=t.restoreAction=t.shareAction=t.closeRightRail=t.openRightRail=t.initializeDocSidebar=t.initializeRightRail=t.showAuthModal=t.clickDropboxLogo=t.exitFullScreen=t.enterFullScreen=t.print=t.pageUp=t.pageDown=t.setCurrentFilePreview=t.closeDocSidebar=t.openDocSidebar=t.initializeFilePreviewSession=t.initializeNestedArchiveFilePreview=t.initializeFilePreview=t.zoomToggleOriginalOrFit=t.updateDimensions=t.updateFitScaleFactor=t.zoomOut=t.zoomIn=t.resolvePageNavigation=t.pageNavigation=t.updateDocCurrentPageIndex=t.refreshBlobSuccessAction=t.refreshBlobAction=t.fetchPageDataWithMetadataResult=t.fetchPageDataWithMetadata=t.fetchRivieraData=t.excelSheetRenderSucceeded=t.excelSheetRenderFailed=t.setDeleteFileModalOpen=t.setToolbarRenameActive=t.renameFile=t.deleteFile=t.Action=void 0,(function(e){e.CloseDocSidebar="@@previews/fileViewerUi/closeDocSidebar",e.CopyToDropbox="@@previews/fileSystem/copyToDropbox",e.DownloadFile="@@previews/fileSystem/downloadFile",e.FetchRivieraData="@@previews/fetchRivieraData",e.FetchPageDataWithMetadata="@@previews/fetchPageDataWithMetadata",e.FetchPageDataWithMetadataResult="@@previews/fetchPageDataWithMetadataResult",e.FetchPhotoMetadataResult="@@previews/fetchPhotoMetadataResult",e.FlipToNextFile="@@previews/navigation/flipToNextFile",e.FlipToPreviousFile="@@previews/navigation/flipToPreviousFile",e.InitializeFilePreview="@@previews/initializeFilePreview",e.InitializeNestedArchiveFilePreview="@@previews/initializeNestedArchiveFilePreview",e.OpenDocSidebar="@@previews/fileViewerUi/openDocSidebar",e.PageDown="@@previews/pageDown",e.PageUp="@@previews/pageUp",e.Print="@@previews/print",e.RefreshBlob="@@previews/refreshBlob",e.RefreshBlobSuccess="@@previews/refreshBlobSuccess",e.SetCurrentFilePreview="@@previews/setCurrentFilePreview",e.UpdateDocCurrentPageIndex="@@previews/updateDocCurrentPageIndex",e.PageNavigation="@@previews/pageNavigation",e.ResolvePageNavigation="@@previews/resolvePageNavigation",e.UpdateFitScaleFactor="@@previews/updateFitScaleFactor",e.ZoomIn="@@previews/zoomIn",e.ZoomToggleOriginalOrFit="@@previews/zoomToggleOriginalOrFit",e.ZoomOut="@@previews/zoomOut",e.UpdateDimensions="@@previews/updateDimensions",e.OpenRightRail="@@previews/openRightRail",e.CloseRightRail="@@previews/closeRightRail",e.InitializeRightRail="@@previews/initializeRightRail",e.InitializeDocSidebar="@@previews/initializeDocSidebar",e.Restore="@@previews/restore",e.Share="@@previews/share",e.OpenWith="@@previews/openWith",e.OpenWebPreview="@@previews/openWebPreview",e.OpenVersionHistory="@@previews/openVersionHistory",e.OpenUrl="@@previews/openUrl",e.FetchNativeApps="@@previews/fetchNativeApps",e.InitializeFilePreviewSession="@@previews/initializeFilePreviewSession",e.InitializeFileViewer="@@previews/initializeFileViewer",e.SetFileMetadata="@@previews/setFileMetadata",e.SetPreviewMetadata="@@previews/setPreviewMetadata",e.CloseViewer="@@previews/closeViewer",e.OpenFullscreenPreview="@@previews/openFullscreenPreview",e.SetBootstrappedFile="@@previews/setBootstrappedFile",e.SetErroredFile="@@previews/setErroredFile",e.SetActiveRightRailPlugin="@@previews/plugins/setActiveRightRailPlugin",e.SetActiveEditPlugin="@@previews/plugins/setActiveEditPlugin",e.HideContentPane="@@previews/plugins/hideContentPane",e.FetchExcelSheetLayoutData="@@previews/fetchExcelSheetLayoutData",e.FetchExcelSheetLayoutDataResult="@@previews/fetchExcelSheetLayoutDataResult",e.SwitchWorkbookTab="@@previews/switchWorkbookTab",e.SetSharedLinkInfo="@@previews/setSharedLinkInfo",e.ExcelSheetRenderFailed="@@previews/excelSheetRenderFailed",e.ExcelSheetRenderSucceeded="@@previews/excelSheetRenderSucceeded",e.EnterFullScreen="@@previews/enterFullscreen",e.ExitFullScreen="@@previews/exitFullscreen",e.ClickDropboxLogo="@@previews/clickDropboxLogo",e.FetchArchiveTopLevelData="@@previews/fetchArchiveTopLevelData",e.FetchArchiveTopLevelDataResult="@@previews/fetchArchiveTopLevelDataResult",e.UpdateArchiveFileCurrentPath="@@previews/updateArchiveFileCurrentPath",e.SetupArchiveFileCurrentPath="@@previews/setupArchiveFileCurrentPath",e.UpdateAudioVideoPlaybackState="@@previews/updateAudioVideoPlaybackState",e.UpdateFiles="@@previews/updateFiles",e.RequestVideoSeek="@@previews/requestVideoSeek",e.RequestVideoSeekRelative="@@previews/requestVideoSeekRelative",e.RequestVideoPause="@@previews/requestVideoPause",e.ClearVideoRequests="@@previews/clearVideoRequests",e.ToggleVideoFrameSteppers="@@previews/toggleVideoFrameSteppers",e.SetupGetPlayDurationSeconds="@@previews/setupGetPlayDurationSeconds",e.UpdateArchiveExtractAllSnackbarState="@@previews/updateArchiveExtractAllSnackbarState",e.ShowAuthModal="@@previews/showAuthModal",e.OpenFileURL="@@previews/openFileURL",e.Redirect="@@previews/redirect",e.FetchMediaMetadata="@@previews/fetchMediaMetadata",e.FetchMediaMetadataResult="@@previews/fetchMediaMetadataResult",e.FetchWaveformData="@@previews/fetchWaveformData",e.FetchWaveformDataResult="@@previews/fetchWaveformDataResult",e.FetchTranscriptData="@@previews/fetchTranscriptData",e.FetchTranscriptDataResult="@@previews/fetchTranscriptDataResult",e.StartTranscriptGenerating="@@previews/startTranscriptGenerating",e.SetOptInToVideoTranscript="@@previews/setOptInToVideoTranscript",e.SetTranscriptError="@@previews/setTranscriptError",e.FetchLinkfileData="@@previews/fetchLinkfileData",e.FetchLinkfileDataResult="@@previews/fetchLinkfileDataResult",e.OverrideFloatingToolbar="@@previews/overrideFloatingToolbar",e.InitializeVolumeAndMuted="@@previews/initializeVolumePreference",e.TriggerDynamicRoutingModalCheck="@@previews/triggerDynamicRoutingModalCheck",e.SetVolume="@@previews/setVolume",e.SetMuted="@@previews/setMuted",e.ReportException="@@previews/reportException",e.SetPreviewLoadingAction="@@previews/setPreviewLoadedAction",e.SetBrandingInfo="@@previews/setBrandingInfo",e.Rename="@@previews/rename",e.Delete="@@previews/delete",e.SetFileViewerError="@@previews/setFileViewerError",e.SetDeleteFileModalOpen="@@previews/setDeleteFileModalOpen",e.EditVideo="@@previews/editVideo",e.CancelEditingVideo="@@previews/cancelEditingVideo",e.SaveVideoEdit="@@previews/saveVideoEdit",e.SetToolbarRenameActive="@@previews/toolbarRenameActive",e.SubscribePresence="@@presence/subscribe",e.UnsubscribePresence="@@presence/unsubscribe",e.SetIsClosedCaptionShowing="@@previews/setIsClosedCaptionShowing",e.SetIsTranscriptShowing="@@previews/setIsTranscriptShowing",e.SetHasShownTranscriptSettingModal="@@previews/setHasShownTranscriptSettingModal"})(i=t.Action||(t.Action={})),t.deleteFile=function(e){return{payload:e,type:i.Delete}},t.renameFile=function(e){return{payload:e,type:i.Rename}},t.setToolbarRenameActive=function(e){return{payload:e,type:i.SetToolbarRenameActive}},t.setDeleteFileModalOpen=function(e){return{payload:e,type:i.SetDeleteFileModalOpen}},t.excelSheetRenderFailed=function(e){return{payload:e,type:i.ExcelSheetRenderFailed}},t.excelSheetRenderSucceeded=function(e){return{payload:e,type:i.ExcelSheetRenderSucceeded}},t.fetchRivieraData=function(e){return{payload:e,type:i.FetchRivieraData}},t.fetchPageDataWithMetadata=function(e){return{payload:e,type:i.FetchPageDataWithMetadata}},t.fetchPageDataWithMetadataResult=function(e,t){return{type:i.FetchPageDataWithMetadataResult,payload:e,error:t}},t.refreshBlobAction=function(e){return{payload:e,type:i.RefreshBlob}},t.refreshBlobSuccessAction=function(e){return{payload:e,type:i.RefreshBlobSuccess}},t.updateDocCurrentPageIndex=function(e){return{type:i.UpdateDocCurrentPageIndex,payload:e}},t.pageNavigation=function(e){return{type:i.PageNavigation,payload:e}},t.resolvePageNavigation=function(e){return{type:i.ResolvePageNavigation,payload:e}},t.zoomIn=function(e){return{type:i.ZoomIn,payload:e}},t.zoomOut=function(e){return{type:i.ZoomOut,payload:e}},t.updateFitScaleFactor=function(e){return{type:i.UpdateFitScaleFactor,payload:e}},t.updateDimensions=function(e){return{type:i.UpdateDimensions,payload:e}},t.zoomToggleOriginalOrFit=function(e){return{type:i.ZoomToggleOriginalOrFit,payload:e}},t.initializeFilePreview=function(e){return{type:i.InitializeFilePreview,payload:e}},t.initializeNestedArchiveFilePreview=function(e){return{type:i.InitializeNestedArchiveFilePreview,payload:e}},t.initializeFilePreviewSession=function(e){return{type:i.InitializeFilePreviewSession,payload:e}},t.openDocSidebar=function(e){return{type:i.OpenDocSidebar,payload:e}},t.closeDocSidebar=function(e){return{type:i.CloseDocSidebar,payload:e}},t.setCurrentFilePreview=function(e){return{type:i.SetCurrentFilePreview,payload:e}},t.pageDown=function(e){return{type:i.PageDown,payload:e}},t.pageUp=function(e){return{type:i.PageUp,payload:e}},t.print=function(e){return{type:i.Print,payload:e}},t.enterFullScreen=function(e){return{type:i.EnterFullScreen,payload:e}},t.exitFullScreen=function(e){return{type:i.ExitFullScreen,payload:e}},t.clickDropboxLogo=function(e){return{type:i.ClickDropboxLogo,payload:e}},t.showAuthModal=function(e){return{type:i.ShowAuthModal,payload:e}},t.initializeRightRail=function(e){return{type:i.InitializeRightRail,payload:e}},t.initializeDocSidebar=function(e){return{type:i.InitializeDocSidebar,payload:e}},t.openRightRail=function(e){return{type:i.OpenRightRail,payload:e}},t.closeRightRail=function(e){return{type:i.CloseRightRail,payload:e}},t.shareAction=function(e){return{type:i.Share,payload:e}},t.restoreAction=function(e){return{type:i.Restore,payload:e}},t.openWith=function(e){return{type:i.OpenWith,payload:e}},t.initializeFileViewer=function(e){return{type:i.InitializeFileViewer,payload:e}},t.openWebPreview=function(e){return{type:i.OpenWebPreview,payload:e}},t.openVersionHistory=function(e){return{type:i.OpenVersionHistory,payload:e}},t.openUrl=function(e){return{type:i.OpenUrl,payload:e}},t.flipToNextFile=function(e){return{type:i.FlipToNextFile,payload:e}},t.flipToPreviousFile=function(e){return{type:i.FlipToPreviousFile,payload:e}},t.setFileMetadata=function(e){return{type:i.SetFileMetadata,payload:e}},t.setPreviewMetadata=function(e){return{type:i.SetPreviewMetadata,payload:e}},t.setSharedLinkInfo=function(e){return{type:i.SetSharedLinkInfo,payload:e}},t.setBrandingInfo=function(e){return{type:i.SetBrandingInfo,payload:e}},t.openFullscreenPreview=function(e){return{type:i.OpenFullscreenPreview,payload:e}},t.closeViewer=function(e){return{type:i.CloseViewer,payload:e}},t.setBootstrappedFile=function(e){return{type:i.SetBootstrappedFile,payload:e}},t.setErroredFile=function(e){return{type:i.SetErroredFile,payload:e}},t.setActiveRightRailPlugin=function(e){return{type:i.SetActiveRightRailPlugin,payload:e}},t.setActiveEditPlugin=function(e){return{type:i.SetActiveEditPlugin,payload:e}},t.hideContentPane=function(e){return{type:i.HideContentPane,payload:e}},t.fetchExcelSheetLayoutData=function(e){return{type:i.FetchExcelSheetLayoutData,payload:e}},t.fetchExcelSheetLayoutDataResult=function(e,t){return{type:i.FetchExcelSheetLayoutDataResult,payload:e,error:t}},t.fetchArchiveTopLevelData=function(e){return{payload:e,type:i.FetchArchiveTopLevelData}},t.fetchArchiveTopLevelDataResult=function(e,t){return{type:i.FetchArchiveTopLevelDataResult,payload:e,error:t}},t.updateArchiveFileCurrentPath=function(e){return{payload:e,type:i.UpdateArchiveFileCurrentPath}},t.setupArchiveFileCurrentPath=function(e){return{payload:e,type:i.SetupArchiveFileCurrentPath}},t.updateArchiveExtractAllSnackbarState=function(e){return{payload:e,type:i.UpdateArchiveExtractAllSnackbarState}},t.triggerDynamicRoutingModalCheck=function(){return{type:i.TriggerDynamicRoutingModalCheck,payload:{}}},t.openFileURL=function(e){return{payload:e,type:i.OpenFileURL}},t.redirect=function(e){return{payload:e,type:i.Redirect}},t.updateAudioVideoPlaybackState=function(e){return{payload:e,type:i.UpdateAudioVideoPlaybackState}},t.switchWorkbookTab=function(e){return{type:i.SwitchWorkbookTab,payload:e}},t.fetchMediaMetadata=function(e){return{payload:e,type:i.FetchMediaMetadata}},t.fetchMediaMetadataResult=function(e,t){return{type:i.FetchMediaMetadataResult,payload:e,error:t}},t.fetchWaveformData=function(e){return{payload:e,type:i.FetchWaveformData}},t.fetchWaveformDataResult=function(e,t){return{type:i.FetchWaveformDataResult,payload:e,error:t}},t.fetchTranscriptData=function(e){return{payload:e,type:i.FetchTranscriptData}},t.fetchTranscriptDataResult=function(e,t){return{type:i.FetchTranscriptDataResult,payload:e,error:t}},t.startTranscriptGenerating=function(e){return{type:i.StartTranscriptGenerating,payload:e}},t.setOptInToVideoTranscript=function(e){return{type:i.SetOptInToVideoTranscript,payload:e}},t.setTranscriptError=function(e,t){return{type:i.SetTranscriptError,payload:e,error:t}},t.fetchLinkfileData=function(e){return{payload:e,type:i.FetchLinkfileData}},t.fetchLinkfileDataResult=function(e,t){return{type:i.FetchLinkfileDataResult,payload:e,error:t}},t.copyToDropbox=function(e){return{type:i.CopyToDropbox,payload:e}},t.downloadFile=function(e){return{type:i.DownloadFile,payload:e}},t.updateFiles=function(e){return{type:i.UpdateFiles,payload:e}},t.requestVideoSeek=function(e){return{type:i.RequestVideoSeek,payload:e}},t.requestVideoSeekRelative=function(e){return{type:i.RequestVideoSeekRelative,payload:e}},t.requestVideoPause=function(){return{type:i.RequestVideoPause,payload:{}}},t.clearVideoRequests=function(){return{type:i.ClearVideoRequests,payload:{}}},t.toggleVideoFrameSteppers=function(e){return{type:i.ToggleVideoFrameSteppers,payload:e}},t.setupGetPlayDurationSeconds=function(e){return{type:i.SetupGetPlayDurationSeconds,payload:e}},t.overrideFloatingToolbar=function(e){return{type:i.OverrideFloatingToolbar,payload:e}},t.initializeVolumeAndMuted=function(e){return{type:i.InitializeVolumeAndMuted,payload:e}},t.setVolume=function(e){return{type:i.SetVolume,payload:e}},t.setMuted=function(e){return{type:i.SetMuted,payload:e}},t.reportException=function(e){return{type:i.ReportException,payload:e}},t.setPreviewLoadingAction=function(e){return{type:i.SetPreviewLoadingAction,payload:e}},t.setFileViewerErrorAction=function(e){return{type:i.SetFileViewerError,payload:e}},t.editVideoAction=function(e){return{type:i.EditVideo,payload:e}},t.cancelEditingVideo=function(e){return{type:i.CancelEditingVideo,payload:e}},t.saveVideoEdit=function(e){return{type:i.SaveVideoEdit,payload:e}},t.subscribePresence=function(e){return{type:i.SubscribePresence,payload:e}},t.unsubscribePresence=function(e){return{type:i.UnsubscribePresence,payload:e}},t.setIsClosedCaptionShowing=function(e){return{type:i.SetIsClosedCaptionShowing,payload:e}},t.setIsTranscriptShowing=function(e){return{type:i.SetIsTranscriptShowing,payload:e}},t.setHasShownTranscriptSettingModal=function(e){return{type:i.SetHasShownTranscriptSettingModal,payload:e}}})),define("typescript/libraries/file-viewer/src/titlebar/titlebar_logo",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","typescript/libraries/file-viewer/src/core/data/actions","typescript/libraries/file-viewer/src/core/logging/constants","typescript/libraries/file-viewer/src/titlebar/title_bar.module.css"],(function(e,t,i,r,o,a,n,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0,r=i.__importDefault(r),s=i.__importStar(s);t.Logo=({baseUrl:e,dispatch:t,previewKey:i,fileViewerId:c})=>r.default.createElement("a",{href:`//${e}?src=shmodel`,onClick:()=>{t((0,n.clickDropboxLogo)({previewKey:i,fileViewerId:c,sourceContext:l.UserActionContext.TitleBarMain}))},className:`${s.dropboxLogo}`},r.default.createElement(o.UIIcon,{size:"large",src:a.DropboxLine,"aria-label":"Dropbox"})),t.Logo.displayName="Logo",t.Logo.displayName="Logo"})),define("typescript/libraries/file-viewer/src/titlebar/truncate",["require","exports","tslib","grapheme-splitter"],(function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.measureRenderedTextLen=t.recalcText=t.truncateStringByLength=t.truncateStringByRenderWidth=void 0,r=i.__importDefault(r);function o(e,t,i=""){const r=Math.floor(t/2),o=e.slice(0,r);return i&&o.push(i),o.push(...e.slice(e.length-r,e.length)),{newGraphemes:o,newStr:o.join("")}}const a=new r.default;function n(e,t=""){const i=a.splitGraphemes(e);return o(i,i.length,t).newStr}function l(e,t,i){let r=i(e);const n=a.splitGraphemes(e);if(r<t||n.length<=2)return e;const l=Math.floor(t/r*n.length);let{newGraphemes:s,newStr:c}=o(n,l);for(r=i(c);r>t;)({newGraphemes:s,newStr:c}=o(s,s.length-1)),r=i(c);return c}t.truncateStringByRenderWidth=function(e,t,i){const r=i(e),n=a.splitGraphemes(e);if(r<=t||n.length<=2)return e;let l,s=Math.floor(t/r*n.length);do{({newStr:l}=o(n,s,"")),s--}while(i(l)>t&&s>1);return l},t.truncateStringByLength=function(e,t){const i=a.splitGraphemes(e),{length:r}=i;return r<=Math.max(t,2)?e:o(i,t,"").newStr},t.recalcText=function(e,t,i){const r=t-80;if(r>0){const t=e.substring(e.lastIndexOf(".")||e.length,e.length)||"",o=e.substring(0,e.length-t.length),a=r-i(`${t}`);if(a<0){const t=l(e,r,i);return t!==e?n(t,""):e}{const r=l(o,a,i);return r!==o?`${n(r,"")}${t}`:e}}return""},t.measureRenderedTextLen=function(e,t){if(!t)return 0;if("function"!=typeof t.getComputedTextLength)return 0;t.textContent=e;const i=t.getComputedTextLength();return t.textContent="",i}})),define("typescript/libraries/file-viewer/src/core/data/preview_key",["require","exports"],(function(e,t){"use strict";function i(e,t,i,r){return{type:"File",_fileId:e,_nsId:t,_sjId:i,_url:r,serialized:(e?`fileId:[${e}]`:"")+(t?`nsId:[${t}]`:"")+(i?`sjId:[${i}]`:"")+(r?`url:[${r}]`:"")}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviewKeyFromFileInfo=t.getSubpath=t.getPreviewKeyForNestedArchiveFile=t.getPreviewKey=t.isNestedArchiveFilePreviewKey=void 0,t.isNestedArchiveFilePreviewKey=function(e){const t="NestedArchiveFile"===e.type?e:null;return Boolean(t)},t.getPreviewKey=i,t.getPreviewKeyForNestedArchiveFile=function(e,t){return{type:"NestedArchiveFile",rootFileId:e,subpath:t,serialized:`rootFileId:[${e}]subpath:[${t}]`}},t.getSubpath=function(e){let t="";return e.length&&(t+=`/${e.join("/")}`),`${t}`},t.getPreviewKeyFromFileInfo=function(e){return i(e.file_id,e.ns_id,e.sj_id)}})),define("typescript/libraries/file-viewer/src/core/data/selectors",["require","exports","typescript/libraries/file-viewer/src/core/data/utils","typescript/libraries/file-viewer/src/core/data/preview_key","typescript/libraries/file-viewer/src/core/utils/functions","typescript/libraries/file-viewer/src/core/types/preview_type","typescript/libraries/file-viewer/src/core/utils/support","typescript/libraries/file-viewer/src/core/utils/loadable"],(function(e,t,i,r,o,a,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsPreviewLoading=t.getSharedLinkInfo=t.getBrandingInfo=t.getIsEditingVideo=t.getFileViewerState=t.getVolumeState=t.getFetchingUser=t.getCurrentUser=t.getFilePreviewSession=t.getFilePreviewSessionId=t.getVideoClosedCaptionsData=t.getVideoTranscriptData=t.getVideoDimensions=t.getFileContentMetadata=t.getVideoRequests=t.getHasBeenFlipped=t.getIsFullScreen=t.getPrintUrl=t.isRightRailOpen=t.isPreviewZoomed=t.getCurrentScaleFactorFromFilePreviewUi=t.getFileViewerUi=t.getCurrentFileMetadata=t.getCurrentFilePreviewUI=t.getFilePreviewUi=t.getFileMetadata=t.getCloudDocEditorUrl=t.getCurrentRivieraData=t.getRivieraDataFromSlice=t.getRivieraData=t.getArchiveFilesFetchedPreviewMetadata=t.getArchiveFilesPreviewMetadata=t.getPreviewMetadata=t.getCurrentFilePreviewUiData=t.getFilePreviewUiData=t.getCurrentPreviewKey=t.getCurrentFileArchiveAware=t.getCurrentFile=t.getLoadableCurrentUser=void 0;const s={state:"pending"},c=(0,o.memoizeOne)(l.makeFulfilledLoadableData);function d(e,t){return e.currentFileInfo[t]}function p(e,t){var r;const o=d(e,t);if(!o)return;const l=o.previewKey,s=h(e,t,l),c=v(e,l);if((0,n.resolvePreviewType)(c)===a.PreviewType.Archive){const o=f(e,l);if("loaded"===(null===(r=null==o?void 0:o.rootEntry)||void 0===r?void 0:r.state)&&s&&s.currentPath){const{entry:e}=(0,i.getArchiveEntryAtPath)(o.rootEntry.data,s.currentPath,t,l);return e}}}t.getLoadableCurrentUser=function(e){return e.fetchingUser?s:c(e.currentUser)},t.getCurrentFile=d;function u(e,t){var i;return null===(i=d(e,t))||void 0===i?void 0:i.previewKey}function v(e,t){return t?(0,r.isNestedArchiveFilePreviewKey)(t)?_(e.archiveFiles,t):e.previewData[t.serialized]:void 0}function _(e,t){const i=e[t.rootFileId];if(i)return i[t.subpath]}function f(e,t){return t&&e.rivieraData[t.serialized]}function g(e,t){return t&&e.fileMetadata[t.serialized]}function h(e,t,i){var r;return i&&(null===(r=e.filePreviewUi[t])||void 0===r?void 0:r[i.serialized])}function w(e,t){const i=d(e,t);if(!i)return;const o=h(e,t,i.previewKey),a=p(e,t);if(a&&!a.isDir&&(null==o?void 0:o.currentPath)){return h(e,t,(0,r.getPreviewKeyForNestedArchiveFile)(i.file_id,(0,r.getSubpath)(o.currentPath)))}return o}function y(e,t){return e.fileViewerUi[t]}function m(e,t){return t&&e.fileContentMetadata[t.serialized]}t.getCurrentFileArchiveAware=(e,t)=>{const i=d(e,t),r=p(e,t);return!r||r.isDir?i:void 0},t.getCurrentPreviewKey=u,t.getFilePreviewUiData=function(e,t){return e[t.serialized]},t.getCurrentFilePreviewUiData=function(e,t,i){var r;return null===(r=e.filePreviewUi[t])||void 0===r?void 0:r[i.serialized]},t.getPreviewMetadata=v,t.getArchiveFilesPreviewMetadata=_,t.getArchiveFilesFetchedPreviewMetadata=function(e,t){return!!e[t]},t.getRivieraData=f,t.getRivieraDataFromSlice=function(e,t){return e[t.serialized]},t.getCurrentRivieraData=function(e,t){const i=u(e,t);return i&&e.rivieraData[i.serialized]},t.getCloudDocEditorUrl=function(e,t){return e.cloudDocsData[t]},t.getFileMetadata=g,t.getFilePreviewUi=h,t.getCurrentFilePreviewUI=w,t.getCurrentFileMetadata=function(e,t){var i;const r=d(e,t),o=g(e,null==r?void 0:r.previewKey),a=p(e,t);return o&&a&&!a.isDir?{file_name:a.name,file_collection_context:o.file_collection_context,size:null!==(i=a.size)&&void 0!==i?i:0}:o},t.getFileViewerUi=y,t.getCurrentScaleFactorFromFilePreviewUi=function(e){return e.zoomScaleFactor||e.fitScaleFactor},t.isPreviewZoomed=function(e,t){const r=w(e,t);if(!r)return!1;const o=(0,i.filterZoomableFilePreviewUi)(r);if(null==o)return!1;const{zoomScaleFactor:a,fitScaleFactor:n}=o;return!!a&&a>n},t.isRightRailOpen=function(e,t){var i;return null===(i=e.fileViewerUi[t])||void 0===i?void 0:i.isRightRailOpen},t.getPrintUrl=function(e,t){var i,r;const o=u(e,t),a=o&&v(e,o);if(!a)return"";const{content:n}=a;return"image"===(null==n?void 0:n[".tag"])?null!==(i=null==n?void 0:n.full_size_src)&&void 0!==i?i:"":"ssr_doc"===(null==n?void 0:n[".tag"])&&null!==(r=null==n?void 0:n.autoprint_url)&&void 0!==r?r:""},t.getIsFullScreen=function(e,t){var i;const r=y(e,t);return null!==(i=null==r?void 0:r.isFullScreen)&&void 0!==i&&i},t.getHasBeenFlipped=function(e,t){var i;const r=y(e,t);return null!==(i=null==r?void 0:r.hasBeenFlipped)&&void 0!==i&&i},t.getVideoRequests=function(e){return e.videoRequests},t.getFileContentMetadata=m,t.getVideoDimensions=function(e,t){const i=m(e,t);if(i&&"video"==i.metadata[".tag"]){const e=i.metadata;if(e.resolution_height&&e.resolution_width)return{width:e.resolution_width,height:e.resolution_height}}return null},t.getVideoTranscriptData=function(e,t){const i=v(e,t);if(!i)return;const{content:r}=i;if("video"===(null==r?void 0:r[".tag"])){const i=e.rivieraData[t.serialized];return null==i?void 0:i.transcript}},t.getVideoClosedCaptionsData=function(e,t){const i=v(e,t);if(!i)return;const{content:r}=i;if("video"===(null==r?void 0:r[".tag"])){const i=e.rivieraData[t.serialized];return null==i?void 0:i.closedCaptions}},t.getFilePreviewSessionId=function(e,t){return t?e.loggingSession[t].file_preview_session_id:void 0},t.getFilePreviewSession=function(e,t){return e.loggingSession[t]},t.getCurrentUser=function(e){return e.currentUser},t.getFetchingUser=function(e){return e.fetchingUser},t.getVolumeState=function(e){return e.volume},t.getFileViewerState=function(e,t){return e.fileViewerState[t]},t.getIsEditingVideo=function(e,t){return y(e,t).isEditingVideo},t.getBrandingInfo=function(e,t){const i=u(e,t);return i&&e.brandingInfo[i.serialized]},t.getSharedLinkInfo=function(e,t){const i=u(e,t);return i&&e.sharedLinkInfo[i.serialized]},t.getIsPreviewLoading=function(e){return e.isPreviewLoading}})),define("typescript/libraries/file-viewer/src/core/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSCRIPT_BLADE_PLUGIN_ID=t.INFO_BLADE_PLUGIN_ID=void 0,t.INFO_BLADE_PLUGIN_ID="info_blade",t.TRANSCRIPT_BLADE_PLUGIN_ID="transcript_blade"})),define("typescript/libraries/file-viewer/src/core/data/utils",["require","exports","typescript/libraries/file-viewer/src/core/data/actions"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArchiveEntryAtPath=t.filterExcelPreviewUiState=t.filterDimensionsFilePreviewUiState=t.filterArchiveFilePreviewUiState=t.filterZoomableFilePreviewUi=t.filterAudioVideoFilePreviewUiState=t.filterDocFilePreviewUiState=t.isExcelApiV2MetadataContent=t.isAudioVideoPreviewRivieraData=t.filterLinkfileRivieraData=t.filterExcelRivieraData=t.filterAudioVideoRivieraData=t.filterDocPreviewRivieraData=t.filterArchivePreviewRivieraData=t.isExcelPreviewRivieraData=void 0,t.isExcelPreviewRivieraData=function(e){return null!=e&&"sheets"in e},t.filterArchivePreviewRivieraData=function(e){return null!=e&&"rootEntry"in e?e:void 0},t.filterDocPreviewRivieraData=function(e){return null!=e&&"metadata"in e&&"pages"in e?e:void 0},t.filterAudioVideoRivieraData=function(e){if(e&&!("metadata"in e||"originalWidth"in e||"sheets"in e||"rootEntry"in e||"linkfileData"in e))return e},t.filterExcelRivieraData=function(e){return e&&"sheets"in e?e:void 0},t.filterLinkfileRivieraData=function(e){return e&&"linkfileData"in e?e:void 0},t.isAudioVideoPreviewRivieraData=function(e){return Boolean(null!=e&&"transcript"in e?e:null)},t.isExcelApiV2MetadataContent=function(e){return void 0!==e&&"excel"===e[".tag"]},t.filterDocFilePreviewUiState=function(e){return e&&"currentPageIndex"in e?e:void 0},t.filterAudioVideoFilePreviewUiState=function(e){return e&&"currentTimestamp"in e?e:void 0},t.filterZoomableFilePreviewUi=function(e){return"fitScaleFactor"in e?e:void 0},t.filterArchiveFilePreviewUiState=function(e){return e&&"extractAllSnackbarState"in e?e:void 0},t.filterDimensionsFilePreviewUiState=function(e){return e&&"dimensions"in e&&e.dimensions?e:null},t.filterExcelPreviewUiState=function(e){return e&&"currentTabIndex"in e?e:void 0},t.getArchiveEntryAtPath=function(e,t,r,o,a){var n;let l=null,s=e;const c=[];for(const e of t){const t=null===(n=s.children)||void 0===n?void 0:n.find(t=>t.name===e);if(!t)return a&&a((0,i.updateArchiveFileCurrentPath)({currentPath:c,fileViewerId:r,previewKey:o})),{entry:s,parent:l};l=s,s=t,c.push(e)}return{entry:s,parent:l}}})),define("typescript/libraries/file-viewer/src/core/utils/loadable",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePendingLoadableData=t.makeFulfilledLoadableData=t.makeRejectedLoadableData=void 0;t.makeRejectedLoadableData=e=>({state:"errored",error:e});t.makeFulfilledLoadableData=e=>({state:"loaded",data:e});t.makePendingLoadableData=()=>({state:"pending"})})),define("typescript/libraries/file-viewer/src/ui/header",["require","exports","tslib","react","react-redux","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/file_viewer/context_provider","typescript/libraries/file-viewer/src/plugins/types"],(function(e,t,i,r,o,a,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginHeader=void 0,r=i.__importStar(r),t.PluginHeader=r.memo(({pluginProps:e,activePluginInstance:t,header:i})=>{var s;const[c,d]=r.useState(!1),{featureConfig:p,fileViewerId:u}=(0,n.useFileViewerContext)(),v="errored"===(null===(s=(0,o.useSelector)(e=>(0,a.getCurrentFile)(e,u)))||void 0===s?void 0:s.bootstrap.state);if(p.preview_content_only)return null;if(!v&&t&&(0,l.isRightRailPlugin)(t)&&t.rightRailUI){const{rightRailUI:{Header:i}}=t;if(i)return c||d(!0),r.createElement(i,Object.assign({},e))}if(i&&!c){const e=i;return r.createElement(e,{onHide:()=>d(!0)})}return null}),t.PluginHeader.displayName="PluginHeader"}));
//# sourceMappingURL=pkg-fvsdk-skeleton.min.js-vflrUrimg.map