define(["require","exports","tslib","dropbox-capture-sdk","dropbox-internal-sdk","metaserver/static/js/components/ui/css","metaserver/static/js/core/sdk_helpers","react","react-dom","metaserver/static/js/privacy_consent/privacy_consent_cookies"],(function(e,t,o,r,s,a,n,c,i,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CAPTURE_HAS_SEEN_SHARING_TOOLTIP=void 0,r=o.__importDefault(r),c=o.__importStar(c),i=o.__importDefault(i),t.CAPTURE_HAS_SEEN_SHARING_TOOLTIP="CAPTURE_HAS_SEEN_SHARING_TOOLTIP";const l=["AllCookies","Analytics"];t.default=(0,a.requireCssWithComponent)((function(e){const{user:t,source:o,useCamera:a,showRecorder:d,onRecordingStart:_,onUpload:p,onClose:m,uploadPath:S,captureLink:f}=e,[A,E]=(0,c.useState)(),[C,R]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{const e=new u.ConsentCookieStore({}).getAllowedCategories();R(e.some(e=>l.includes(e)));const o=(0,n.getCookieAuthSDKAuth)(()=>t.id);E(new s.Dropbox({auth:o}))},[]),A?"boolean"==typeof RUNNING_IN_REACTSERVER?null:i.default.createPortal(c.default.createElement(r.default,{api:A,source:o,showRecorder:d,camera:a,fqPath:S,children:c.default.createElement(c.default.Fragment,null),onRecordingStart:_,onUpload:p,onClose:m,captureLink:f,analytics:C}),document.body):null}),["/static/metaserver/static/css/capture-sdk/index-vfleUg6rK.css"])}));
//# sourceMappingURL=recorder.min.js-vflJIPBKw.map