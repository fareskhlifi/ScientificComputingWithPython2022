define("typescript/component_libraries/photos/src/preview-photo-editor/types",["require","exports"],(function(e,t){"use strict";var o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.getMimeTypeByExt=t.imageTypeAllowed=t.ImageExtension=t.ImageMimeTypes=void 0,(function(e){e.JPEG="image/jpeg",e.PNG="image/png"})(o=t.ImageMimeTypes||(t.ImageMimeTypes={})),(function(e){e.JPEG="jpeg",e.JPG="jpg",e.PNG="png"})(r=t.ImageExtension||(t.ImageExtension={})),t.imageTypeAllowed=[r.JPEG,r.JPG,r.PNG];t.getMimeTypeByExt=e=>{switch(e){case r.JPEG:case r.JPG:return o.JPEG;case r.PNG:return o.PNG}}})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/change_adjust_value",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Change_AdjustValue=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.adjustValue=0,e.prototype.adjustType=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Change_AdjustValue"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e.AdjustType=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_ADJUST_TYPE"]=0,t[e[1]="BRIGHTNESS_ADJUST_TYPE"]=1,t[e[2]="CONTRAST_ADJUST_TYPE"]=2,t[e[3]="SATURATION_ADJUST_TYPE"]=3,t[e[4]="HIGHLIGHT_ADJUST_TYPE"]=4,t[e[5]="SHADOW_ADJUST_TYPE"]=5,t[e[6]="TEMPERATURE_ADJUST_TYPE"]=6,t[e[7]="EXPOSURE_ADJUST_TYPE"]=7,t})(),e})(n.Change_AdjustValue||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/eng_image_edit_error",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Eng_ImageEditError=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Eng_ImageEditError"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Eng_ImageEditError||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_adjust",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_Adjust=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_Adjust"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_Adjust||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_crop_action",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_CropAction=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_CropAction"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_CropAction||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_crop_option",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_CropOption=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.cropOption=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_CropOption"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e.CropOption=(function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN_CROP_OPTION"]=0,t[e[1]="CUSTOM_CROP_OPTION"]=1,t[e[2]="RATIOS_CROP_OPTION"]=2,t[e[3]="FACEBOOK_CROP_OPTION"]=3,t[e[4]="INSTAGRAM_CROP_OPTION"]=4,t[e[5]="FREE_FORM_CROP_OPTION"]=5,t[e[6]="POPULAR_RATIOS_CROP_OPTION"]=6,t})(),e})(n.Select_CropOption||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_done",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_Done=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_Done"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_Done||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_flip",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_Flip=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_Flip"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_Flip||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_image_edit",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_ImageEdit=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.loadingTime=0,e.prototype.entryPoint="",e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_ImageEdit"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_ImageEdit||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_redo",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_Redo=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_Redo"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_Redo||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_replace_original_image",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_ReplaceOriginalImage=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.loadingTime=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_ReplaceOriginalImage"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_ReplaceOriginalImage||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_rotate_action",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_RotateAction=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_RotateAction"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_RotateAction||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_save_crop",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_SaveCrop=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.cropHeight=0,e.prototype.cropWidth=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_SaveCrop"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_SaveCrop||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_save_image_copy",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_SaveImageCopy=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.prototype.loadingTime=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_SaveImageCopy"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_SaveImageCopy||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_undo",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_Undo=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_Undo"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_Undo||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_zoom_actual_size",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_ZoomActualSize=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_ZoomActualSize"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_ZoomActualSize||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_zoom_in",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_ZoomIn=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_ZoomIn"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_ZoomIn||{}),n),a)})),define("metaserver/static/js/dropbox/proto/pap_events/image_edit/select_zoom_out",["require","exports","tslib","protobufjs/minimal","metaserver/static/js/dropbox/proto/pap_events/predefined_event"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.pap_events=void 0;(r=o.__importStar(r)).Reader,r.Writer,r.util;const i=r.roots.default||(r.roots.default={});var a,n;t.default=i,t.pap_events=i.pap_events=((a=i.pap_events||{}).image_edit=((n=a.image_edit||{}).Select_ZoomOut=(function(e){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.actionSurface="",e.prototype.eventClass=0,e.create=function(t){return new e(t)},e.getTypeUrl=function(){return"type.googleapis.com/pap_events.image_edit.Select_ZoomOut"},e.EventClass=(function(){const e={},t=Object.create(e);return t[e[0]="IMAGE_EDIT"]=0,t})(),e})(n.Select_ZoomOut||{}),n),a)})),define("metaserver/static/js/photo-editor/logging/logging_utils",["require","exports"],(function(e,t){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.getSizeBucket=t.convertByteToMegabyte=t.FileSizeBucket=void 0,(function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.UNKNOWN="unknown"})(o=t.FileSizeBucket||(t.FileSizeBucket={})),t.convertByteToMegabyte=function(e){return e/Math.pow(1024,2)},t.getSizeBucket=function(e){return 0<e&&e<2?o.SMALL:2<=e&&e<10?o.MEDIUM:e>=10?o.LARGE:o.UNKNOWN}})),define("metaserver/static/js/photo-editor/logging/photo_editor_events_logger",["require","exports","tslib","metaserver/static/js/clean/ts_utils","metaserver/static/js/pap/analytics_client","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_image_edit","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_rotate_action","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_crop_action","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_flip","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_zoom_in","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_zoom_actual_size","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_zoom_out","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_undo","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_redo","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_adjust","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_done","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_save_image_copy","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_replace_original_image","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_save_crop","metaserver/static/js/dropbox/proto/pap_events/image_edit/select_crop_option","metaserver/static/js/dropbox/proto/pap_events/image_edit/change_adjust_value","metaserver/static/js/dropbox/proto/pap_events/image_edit/eng_image_edit_error","metaserver/static/js/metrics/index","metaserver/static/js/core/exception","typescript/component_libraries/photo-editor/src/data/types","typescript/libraries/shared/apex-metrics/src/index"],(function(e,t,o,r,i,a,n,s,p,c,l,d,_,u,m,g,v,f,E,R,y,T,S,C,O,h){"use strict";var A,b;Object.defineProperty(t,"__esModule",{value:!0}),t.logImageEditorException=t.stopTimer=t.startAndRetrieveTimer=t.logAmpMetric=t.EntryPoint=t.AmpMetrics=t.AMP_NAMESPACE=t.logImageEditorErrorEvent=t.logImageEditorEvent=t.ERROR_SEVERITY=t.ImageEditorEventActionSurface=t.ImageEditorEvent=void 0,C=o.__importStar(C),(function(e){e.selectEdit="select_edit",e.selectRotate="select_rotate",e.selectCrop="select_crop",e.selectSaveCrop="select_save_crop",e.selectCropOption="select_crop_option",e.selectFlip="select_flip",e.selectZoomIn="select_zoom_in",e.selectZoomActualSize="select_zoom_actual_size",e.selectZoomOut="select_zoom_out",e.selectUndo="select_undo",e.selectRedo="select_redo",e.selectAdjust="select_adjust",e.changeAdjustValue="change_adjust_value",e.selectDone="select_done",e.selectSaveACopy="select_save_a_copy",e.selectSaveFromSaveACopy="select_save_from_save_a_copy",e.selectReplaceOriginal="select_replace_original",e.selectSaveFromReplaceOriginal="select_save_from_replace_original",e.engImageEditError="eng_image_edit_error"})(A=t.ImageEditorEvent||(t.ImageEditorEvent={})),(function(e){e.preview="preview",e.editingToolbar="editing_toolbar",e.leftBlade="left_blade",e.rightBlade="right_blade",e.exitOptions="exit_options",e.doneMenu="done_menu",e.saveACopyModal="save_a_copy_modal",e.replaceOriginalModal="replace_original_modal"})(b=t.ImageEditorEventActionSurface||(t.ImageEditorEventActionSurface={}));const I={[A.selectEdit]:["loadingTime","entryPoint"],[A.selectSaveCrop]:["cropHeight","cropWidth"],[A.selectCropOption]:["cropOption"],[A.changeAdjustValue]:["adjustValue","adjustType"],[A.selectSaveFromSaveACopy]:["loadingTime"],[A.selectSaveFromReplaceOriginal]:["loadingTime"]};const j={[O.CropMenuOptions.FREE_FORM]:R.pap_events.image_edit.Select_CropOption.CropOption.FREE_FORM_CROP_OPTION,[O.CropMenuOptions.POPULAR_RATIOS]:R.pap_events.image_edit.Select_CropOption.CropOption.POPULAR_RATIOS_CROP_OPTION,[O.CropMenuOptions.FACEBOOK]:R.pap_events.image_edit.Select_CropOption.CropOption.FACEBOOK_CROP_OPTION,[O.CropMenuOptions.INSTAGRAM]:R.pap_events.image_edit.Select_CropOption.CropOption.INSTAGRAM_CROP_OPTION},M={[O.AdjustType.BRIGHTNESS]:y.pap_events.image_edit.Change_AdjustValue.AdjustType.BRIGHTNESS_ADJUST_TYPE,[O.AdjustType.CONTRAST]:y.pap_events.image_edit.Change_AdjustValue.AdjustType.CONTRAST_ADJUST_TYPE,[O.AdjustType.HIGHLIGHT]:y.pap_events.image_edit.Change_AdjustValue.AdjustType.HIGHLIGHT_ADJUST_TYPE,[O.AdjustType.SHADOW]:y.pap_events.image_edit.Change_AdjustValue.AdjustType.SHADOW_ADJUST_TYPE,[O.AdjustType.TEMPERATURE]:y.pap_events.image_edit.Change_AdjustValue.AdjustType.TEMPERATURE_ADJUST_TYPE,[O.AdjustType.SATURATION]:y.pap_events.image_edit.Change_AdjustValue.AdjustType.SATURATION_ADJUST_TYPE,[O.AdjustType.EXPOSURE]:y.pap_events.image_edit.Change_AdjustValue.AdjustType.EXPOSURE_ADJUST_TYPE};function P(e,o,S,C){const O={};if(o&&(function(e){return e in I})(e))for(const t of I[e]){const e=o[t];"string"==typeof e&&(O[t]=e)}if((function(e,t){let o;switch(e){case A.selectEdit:o=t,(0,i.logEvent)(a.pap_events.image_edit.Select_ImageEdit.create({actionSurface:b.preview,loadingTime:parseInt((null==o?void 0:o.loadingTime)||"",10),entryPoint:(null==o?void 0:o.entryPoint)||""}));break;case A.selectRotate:(0,i.logEvent)(n.pap_events.image_edit.Select_RotateAction.create({actionSurface:b.editingToolbar}));break;case A.selectCrop:(0,i.logEvent)(s.pap_events.image_edit.Select_CropAction.create({actionSurface:b.editingToolbar}));break;case A.selectSaveCrop:o=t,(0,i.logEvent)(E.pap_events.image_edit.Select_SaveCrop.create({actionSurface:b.rightBlade,cropHeight:parseInt((null==o?void 0:o.cropHeight)||"",10),cropWidth:parseInt((null==o?void 0:o.cropWidth)||"",10)}));break;case A.selectCropOption:o=t,(0,i.logEvent)(R.pap_events.image_edit.Select_CropOption.create({actionSurface:b.rightBlade,cropOption:j[o.cropOption]}));break;case A.selectFlip:(0,i.logEvent)(p.pap_events.image_edit.Select_Flip.create({actionSurface:b.editingToolbar}));break;case A.selectZoomIn:(0,i.logEvent)(c.pap_events.image_edit.Select_ZoomIn.create({actionSurface:b.editingToolbar}));break;case A.selectZoomActualSize:(0,i.logEvent)(l.pap_events.image_edit.Select_ZoomActualSize.create({actionSurface:b.editingToolbar}));break;case A.selectZoomOut:(0,i.logEvent)(d.pap_events.image_edit.Select_ZoomOut.create({actionSurface:b.editingToolbar}));break;case A.selectUndo:(0,i.logEvent)(_.pap_events.image_edit.Select_Undo.create({actionSurface:b.editingToolbar}));break;case A.selectRedo:(0,i.logEvent)(u.pap_events.image_edit.Select_Redo.create({actionSurface:b.editingToolbar}));break;case A.selectAdjust:(0,i.logEvent)(m.pap_events.image_edit.Select_Adjust.create({actionSurface:b.leftBlade}));break;case A.changeAdjustValue:o=t,(0,i.logEvent)(y.pap_events.image_edit.Change_AdjustValue.create({actionSurface:b.leftBlade,adjustType:M[o.adjustType],adjustValue:parseInt((null==o?void 0:o.adjustValue)||"",10)}));break;case A.selectDone:(0,i.logEvent)(g.pap_events.image_edit.Select_Done.create({actionSurface:b.exitOptions}));break;case A.selectSaveACopy:(0,i.logEvent)(v.pap_events.image_edit.Select_SaveImageCopy.create({actionSurface:b.doneMenu}));break;case A.selectSaveFromSaveACopy:o=t,(0,i.logEvent)(v.pap_events.image_edit.Select_SaveImageCopy.create({actionSurface:b.saveACopyModal,loadingTime:parseInt((null==o?void 0:o.loadingTime)||"",10)}));break;case A.selectReplaceOriginal:(0,i.logEvent)(f.pap_events.image_edit.Select_ReplaceOriginalImage.create({actionSurface:b.doneMenu}));break;case A.selectSaveFromReplaceOriginal:o=t,(0,i.logEvent)(f.pap_events.image_edit.Select_ReplaceOriginalImage.create({actionSurface:b.replaceOriginalModal,loadingTime:parseInt((null==o?void 0:o.loadingTime)||"",10)}));break;case A.engImageEditError:(0,i.logEvent)(T.pap_events.image_edit.Eng_ImageEditError.create());break;default:(0,r.enforceExhaustive)(e)}})(e,O),e===A.engImageEditError){let e={};if(C&&(e={error_severity:C}),x({metricName:N.ERROR,metricTags:e}),S){let e=S;S instanceof Error||(e=new Error(`Image Editor Error: ${S}`)),H({error:e,severity:C||t.ERROR_SEVERITY.NON_CRITICAL})}}}t.ERROR_SEVERITY={CRITICAL:"critical",NONCRITICAL:"non-critical",USER_ERROR:"user-error",UNCAUGHT:"uncaught",OPERATIONAL:"operational"},t.logImageEditorEvent=P;var N;function x(e){const o=(0,S.getMetricsReporter)().createStats({ns:t.AMP_NAMESPACE,name:e.metricName},e.metricTags);e.metricDurationInMilliseconds?o.recordDuration(e.metricDurationInMilliseconds,h.TimeUnit.MILLISECONDS):o.record(1)}t.logImageEditorErrorEvent=e=>{P(A.engImageEditError,void 0,e instanceof Error?e:new Error(`Image Editor - Uncaught Error: ${e}`),t.ERROR_SEVERITY.UNCAUGHT)},t.AMP_NAMESPACE="web_image_editor",(function(e){e.ERROR="image_editor/error",e.TTI_EDITOR="image_editor/tti/editor",e.OPEN_EDITOR="image_editor/open_editor",e.LATENCY_DOWNLOAD_IMAGE="image_editor/latency/download_image",e.LATENCY_CONVERT_TO_DATA_URL="image_editor/latency/convert_to_data_url"})(N=t.AmpMetrics||(t.AmpMetrics={})),(function(e){e.PHOTOS="PHOTOS",e.PREVIEWS="PREVIEWS"})(t.EntryPoint||(t.EntryPoint={})),t.logAmpMetric=x,t.startAndRetrieveTimer=function(e){return(0,S.getMetricsReporter)().createTimer({ns:t.AMP_NAMESPACE,name:e.metricName},e.metricTags)},t.stopTimer=function(e){e.record()};const U=["image_editor"],D=["Image Editor"];function H(e){let t;t=e.extra?[...D,...e.extra]:[...D],C.reportException({err:e.error,tags:[...U],severity:e.severity,exc_extra:t,force:!0})}t.logImageEditorException=H})),define("metaserver/static/js/photo-editor/store/store",["require","exports","@reduxjs/toolkit","typescript/component_libraries/photo-editor/src/data/state","typescript/component_libraries/photo-editor/src/data/reducers"],(function(e,t,o,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStore=void 0,t.createStore=function(){return(0,o.configureStore)({preloadedState:r.initialState,reducer:i.reducer,devTools:!1})}})),define("typescript/component_libraries/photo-editor/src/common/calculate-crop-box-size",["require","exports","typescript/component_libraries/photo-editor/src/data/types"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateCropBoxSize=void 0,t.calculateCropBoxSize=function(e,t,r,i,a,n,s,p,c){let l={width:r,height:i};if(s)if(t===o.RatioResizeType.RESIZE_WIDTH){const t=e,o=Math.floor(t*c/p);if(o>n){l.height=n;const e=Math.floor(n*p/c);if(e>a){const e=Math.floor(a*c/p);l.width=a,l.height=e}else l.width=e}else l.width=t,l.height=o}else{const t=e,o=Math.floor(t*p/c);if(o>a){l.width=a;const e=Math.floor(a*c/p);if(e>n){const e=Math.floor(n*p/c);l.height=n,l.width=e}else l.height=e}else l.height=t,l.width=o}else t===o.RatioResizeType.RESIZE_WIDTH?l.width=Math.min(e,a):l.height=Math.min(e,n);return l}})),define("typescript/component_libraries/photo-editor/src/common/is-social-media-ratio",["require","exports","typescript/component_libraries/photo-editor/src/data/types"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSocialMediaRatio=void 0,t.isSocialMediaRatio=function(e){return e===o.CropRatioType.FB_EVENT_COVER||e===o.CropRatioType.FB_PROFILE_COVER||e===o.CropRatioType.FB_PROFILE_PICTURE||e===o.CropRatioType.FB_STORY||e===o.CropRatioType.FB_TIMELINE_POST||e===o.CropRatioType.INSTA_LANDSCAPE||e===o.CropRatioType.INSTA_PORTRAIT||e===o.CropRatioType.INSTA_PROFILE_PICTURE||e===o.CropRatioType.INSTA_SQUARE||e===o.CropRatioType.INSTA_STORY}})),define("typescript/component_libraries/photo-editor/src/components/loading",["require","exports","tslib","react","react-intl","dig-components/progress_indicators","typescript/component_libraries/photo-editor/src/components/loading.module.css"],(function(e,t,o,r,i,a,n){"use strict";function s(){return{loadingAriaLabel:(0,i.useIntl)().formatMessage({id:"I2tb5f",defaultMessage:"Loading"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.useStrings=t.Loading=void 0,r=o.__importDefault(r),n=o.__importDefault(n),t.Loading=function(){const{loadingAriaLabel:e}=s();return r.default.createElement("div",{className:n.default.loading},r.default.createElement(a.Spinner,{"aria-valuetext":e,size:"standard"}))},t.useStrings=s})),define("typescript/component_libraries/photo-editor/src/components/loading.module.css",["require","exports","css!typescript/component_libraries/photo-editor/src/components/loading.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loading=void 0,t.loading="_loading_1tkwe_1";t.default={loading:"_loading_1tkwe_1"}})),define("typescript/component_libraries/photo-editor/src/data/history",["require","exports","@reduxjs/toolkit"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyHistory=t.makeUpdateCurrent=t.actions=void 0;const r=(0,o.createAction)("history/undo"),i=(0,o.createAction)("history/redo");t.actions={undo:r,redo:i},t.makeUpdateCurrent=function(){return function(e){return(t,o)=>{const r=t.history.current;r.isCommittable=e(r,o)}}},t.applyHistory=function(e,t){return(0,o.createReducer)(e,e=>{e.addCase(r,e=>{e.history.past.length&&(e.history.current.isCommittable&&e.history.future.push(e.history.current),e.history.current=e.history.past.pop())}),e.addCase(i,e=>{e.history.future.length&&(e.history.current.isCommittable&&e.history.past.push(e.history.current),e.history.current=e.history.future.pop())}),e.addDefaultCase((e,r)=>{const i=(0,o.original)(e),a=t(i,r);if(!i||i.history.current===a.history.current)return a;if(!i.history.current.isCommittable)return a;const n=[...i.history.past,i.history.current];return n.length>i.history.maxHistory&&n.shift(),Object.assign(Object.assign({},a),{history:Object.assign(Object.assign({},a.history),{past:n,future:[]})})})})}})),define("typescript/component_libraries/photo-editor/src/data/reducers",["require","exports","typescript/component_libraries/photo-editor/src/data/slice","typescript/component_libraries/photo-editor/src/data/history"],(function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.uiReducer=void 0,t.uiReducer=o.editorSlice.reducer,t.reducer=(0,r.applyHistory)(o.initialState,t.uiReducer)})),define("typescript/component_libraries/photo-editor/src/data/slice",["require","exports","@reduxjs/toolkit","typescript/component_libraries/photo-editor/src/common/calculate-crop-box-size","typescript/component_libraries/photo-editor/src/common/is-social-media-ratio","typescript/component_libraries/photo-editor/src/data/history","typescript/component_libraries/photo-editor/src/data/types"],(function(e,t,o,r,i,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editorSlice=t.initialState=void 0,t.initialState={canSave:!1,imageWidth:0,imageHeight:0,zoom:{value:1,min:.25,max:2,default:1,increment:.25},displayMode:n.DisplayMode.NO_MENU,leftMenuMode:n.LeftBarButtons.ADJUST,history:{maxHistory:1e3,current:{isCommittable:!0,imageState:void 0,orientation:{flipX:!1,flipY:!1,rotation:n.Rotation.UP},adjust:{brightness:0,contrast:0,highlight:0,shadow:0,temperature:0,saturation:0,exposure:0},actionApplied:n.EditingAction.NONE},past:[],future:[]},cropControls:{cropWidth:0,cropHeight:0,aspectRatioLocked:!1,aspectRatioSelected:n.CropRatioType.UNSELECTED,selectedMenuOption:n.CropMenuOptions.FREE_FORM,customRatioWidth:0,customRatioHeight:0,showImageTooSmallMessage:!1}};const s=(0,a.makeUpdateCurrent)(),p={setShowImageTooSmallMessage(e,{payload:t}){e.cropControls.showImageTooSmallMessage=t},canSave(e){e.canSave=!0},cannotSave(e){e.canSave=!1},zoomIn(e){e.zoom.value=Math.min(e.zoom.max,e.zoom.value+e.zoom.increment)},zoomOut(e){e.zoom.value=Math.max(e.zoom.min,e.zoom.value-e.zoom.increment)},zoomRealSize(e){e.zoom.value=e.zoom.default},rotate:s(e=>(e.orientation.rotation=(0,n.nextRotation)(e.orientation.rotation),e.actionApplied=n.EditingAction.ROTATE,!0)),crop(e){e.displayMode===n.DisplayMode.CROP?e.displayMode=n.DisplayMode.CANCEL_CROP:e.displayMode=n.DisplayMode.CROP},flip:s(e=>{const t=e.orientation.rotation;return t===n.Rotation.LEFT||t===n.Rotation.RIGHT?e.orientation.flipY=!e.orientation.flipY:e.orientation.flipX=!e.orientation.flipX,e.actionApplied=n.EditingAction.FLIP,!0}),saveCrop(e){e.displayMode=n.DisplayMode.SAVE_CROP},cancelCrop(e){e.displayMode===n.DisplayMode.CROP&&(e.displayMode=n.DisplayMode.CANCEL_CROP)},closeCropMenu(e){e.displayMode!==n.DisplayMode.CROP&&e.displayMode!==n.DisplayMode.CANCEL_CROP||(e.displayMode=n.DisplayMode.NO_MENU,e.cropControls.selectedMenuOption=n.CropMenuOptions.FREE_FORM,e.cropControls.aspectRatioSelected=n.CropRatioType.UNSELECTED,e.cropControls.cropWidth=0,e.cropControls.cropHeight=0,e.cropControls.aspectRatioLocked=!1)},setBrightness:s((e,{payload:t})=>(e.adjust.brightness=l(t.value),e.actionApplied=n.EditingAction.ADJUST,t.commit)),setContrast:s((e,{payload:t})=>(e.adjust.contrast=l(t.value),e.actionApplied=n.EditingAction.ADJUST,t.commit)),setHighlight:s((e,{payload:t})=>(e.adjust.highlight=l(t.value),e.actionApplied=n.EditingAction.ADJUST,t.commit)),setShadow:s((e,{payload:t})=>(e.adjust.shadow=l(t.value),e.actionApplied=n.EditingAction.ADJUST,t.commit)),setTemperature:s((e,{payload:t})=>(e.adjust.temperature=l(t.value),e.actionApplied=n.EditingAction.ADJUST,t.commit)),setSaturation:s((e,{payload:t})=>(e.adjust.saturation=l(t.value),e.actionApplied=n.EditingAction.ADJUST,t.commit)),setExposure:s((e,{payload:t})=>(e.adjust.exposure=l(t.value),e.actionApplied=n.EditingAction.ADJUST,t.commit)),toggleLeftMenu(e,{payload:t}){e.leftMenuMode===t&&e.displayMode===n.DisplayMode.ADJUST?e.displayMode=n.DisplayMode.NO_MENU:(e.displayMode=n.DisplayMode.ADJUST,e.leftMenuMode=t)},setImageWidth(e,{payload:t}){e.imageWidth=t},setImageHeight(e,{payload:t}){e.imageHeight=t},selectCropMenuOption(e,{payload:t}){(0,i.isSocialMediaRatio)(e.cropControls.aspectRatioSelected)&&t===n.CropMenuOptions.FREE_FORM&&(e.cropControls.aspectRatioLocked=!1),e.cropControls.selectedMenuOption=t,t!==n.CropMenuOptions.FREE_FORM&&t!==n.CropMenuOptions.POPULAR_RATIOS||(e.cropControls.aspectRatioSelected=n.CropRatioType.UNSELECTED)},selectCropRatioOption(e,{payload:t}){e.cropControls.aspectRatioSelected=t,e.cropControls.cropWidth=e.imageWidth,e.cropControls.cropHeight=e.imageHeight,e.cropControls.showImageTooSmallMessage=!1;const o=(t,o)=>{(e.imageWidth<t||e.imageHeight<o)&&(e.cropControls.showImageTooSmallMessage=!0)};switch(t){case n.CropRatioType.UNSELECTED:break;case n.CropRatioType.SQUARE_ONE_BY_ONE:e.cropControls.customRatioWidth=1,e.cropControls.customRatioHeight=1,e.cropControls.aspectRatioLocked=!0;break;case n.CropRatioType.PORTRAIT_THREE_BY_FOUR:e.cropControls.customRatioWidth=3,e.cropControls.customRatioHeight=4,e.cropControls.aspectRatioLocked=!0;break;case n.CropRatioType.LANDSCAPE_FOUR_BY_THREE:e.cropControls.customRatioWidth=4,e.cropControls.customRatioHeight=3,e.cropControls.aspectRatioLocked=!0;break;case n.CropRatioType.WIDESCREEN_SIXTEEN_BY_NINE:e.cropControls.customRatioWidth=16,e.cropControls.customRatioHeight=9,e.cropControls.aspectRatioLocked=!0;break;case n.CropRatioType.FB_PROFILE_PICTURE:e.cropControls.customRatioWidth=1,e.cropControls.customRatioHeight=1,e.cropControls.cropWidth=170,e.cropControls.cropHeight=170,e.cropControls.aspectRatioLocked=!0,o(170,170);break;case n.CropRatioType.FB_STORY:e.cropControls.customRatioWidth=9,e.cropControls.customRatioHeight=16,e.cropControls.cropWidth=1080,e.cropControls.cropHeight=1920,e.cropControls.aspectRatioLocked=!0,o(1080,1920);break;case n.CropRatioType.FB_TIMELINE_POST:e.cropControls.customRatioWidth=40,e.cropControls.customRatioHeight=21,e.cropControls.cropWidth=1200,e.cropControls.cropHeight=630,e.cropControls.aspectRatioLocked=!0,o(1200,630);break;case n.CropRatioType.FB_PROFILE_COVER:e.cropControls.customRatioWidth=205,e.cropControls.customRatioHeight=78,e.cropControls.cropWidth=820,e.cropControls.cropHeight=312,e.cropControls.aspectRatioLocked=!0,o(820,312);break;case n.CropRatioType.FB_EVENT_COVER:e.cropControls.customRatioWidth=300,e.cropControls.customRatioHeight=157,e.cropControls.cropWidth=1200,e.cropControls.cropHeight=628,e.cropControls.aspectRatioLocked=!0,o(1200,628);break;case n.CropRatioType.INSTA_PROFILE_PICTURE:e.cropControls.customRatioWidth=1,e.cropControls.customRatioHeight=1,e.cropControls.cropWidth=320,e.cropControls.cropHeight=320,e.cropControls.aspectRatioLocked=!0,o(320,320);break;case n.CropRatioType.INSTA_STORY:e.cropControls.customRatioWidth=17,e.cropControls.customRatioHeight=32,e.cropControls.cropWidth=1020,e.cropControls.cropHeight=1920,e.cropControls.aspectRatioLocked=!0,o(1020,1920);break;case n.CropRatioType.INSTA_SQUARE:e.cropControls.customRatioWidth=1,e.cropControls.customRatioHeight=1,e.cropControls.cropWidth=1080,e.cropControls.cropHeight=1080,e.cropControls.aspectRatioLocked=!0,o(1080,1080);break;case n.CropRatioType.INSTA_PORTRAIT:e.cropControls.customRatioWidth=4,e.cropControls.customRatioHeight=5,e.cropControls.cropWidth=1080,e.cropControls.cropHeight=1350,e.cropControls.aspectRatioLocked=!0,o(1080,1350);break;case n.CropRatioType.INSTA_LANDSCAPE:e.cropControls.customRatioWidth=540,e.cropControls.customRatioHeight=283,e.cropControls.cropWidth=1080,e.cropControls.cropHeight=566,e.cropControls.aspectRatioLocked=!0,o(1080,566)}c(e,{changeType:n.RatioResizeType.RESIZE_WIDTH,changeSize:e.cropControls.cropWidth}),c(e,{changeType:n.RatioResizeType.RESIZE_HEIGHT,changeSize:e.cropControls.cropHeight})},setAspectRatioLock(e,{payload:t}){e.cropControls.aspectRatioLocked=t,t?(e.cropControls.customRatioWidth=e.cropControls.cropWidth,e.cropControls.customRatioHeight=e.cropControls.cropHeight):(e.cropControls.customRatioWidth=0,e.cropControls.customRatioHeight=0)},resizeCropBox(e,{payload:t}){c(e,t)},resizeCropBoxFromCanvas(e,{payload:t}){e.cropControls.cropWidth=t.width,e.cropControls.cropHeight=t.height},rotateResetCropBoxFromCanvas(e){e.cropControls.aspectRatioLocked=!1,e.cropControls.aspectRatioSelected=n.CropRatioType.UNSELECTED,e.cropControls.selectedMenuOption=n.CropMenuOptions.FREE_FORM},saveCropToHistory:s((e,{payload:t})=>(e.imageState=t,e.actionApplied=n.EditingAction.CROP,!0))};function c(e,t){if(0===t.changeSize)return;const o=(0,r.calculateCropBoxSize)(t.changeSize,t.changeType,e.cropControls.cropWidth,e.cropControls.cropHeight,e.imageWidth-20,e.imageHeight-20,e.cropControls.aspectRatioLocked,e.cropControls.customRatioWidth,e.cropControls.customRatioHeight);e.cropControls.cropWidth=Math.round(o.width),e.cropControls.cropHeight=Math.round(o.height)}function l(e){return e<-100?-100:e>100?100:e}t.editorSlice=(0,o.createSlice)({name:"editor",initialState:t.initialState,reducers:p})})),define("typescript/component_libraries/photo-editor/src/data/state",["require","exports","typescript/component_libraries/photo-editor/src/data/slice"],(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0,Object.defineProperty(t,"initialState",{enumerable:!0,get:function(){return o.initialState}})})),define("typescript/component_libraries/photo-editor/src/data/types",["require","exports"],(function(e,t){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.EditingAction=t.RatioResizeType=t.CropRatioType=t.CropMenuOptions=t.LeftBarButtons=t.DisplayMode=t.nextRotation=t.AdjustType=t.Rotation=void 0,(function(e){e[e.UP=0]="UP",e[e.RIGHT=90]="RIGHT",e[e.DOWN=180]="DOWN",e[e.LEFT=270]="LEFT"})(o=t.Rotation||(t.Rotation={})),(function(e){e.BRIGHTNESS="brightness",e.CONTRAST="contrast",e.HIGHLIGHT="highlight",e.SHADOW="shadow",e.TEMPERATURE="temperature",e.SATURATION="saturation",e.EXPOSURE="exposure"})(t.AdjustType||(t.AdjustType={})),t.nextRotation=function(e){switch(e){case o.UP:return o.RIGHT;case o.RIGHT:return o.DOWN;case o.DOWN:return o.LEFT;case o.LEFT:return o.UP}},(function(e){e.NO_MENU="noMenu",e.CROP="crop",e.SAVE_CROP="save_crop",e.CANCEL_CROP="cancel_crop",e.ADJUST="adjust",e.INIT="init"})(t.DisplayMode||(t.DisplayMode={})),(function(e){e.ADJUST="adjust"})(t.LeftBarButtons||(t.LeftBarButtons={})),(function(e){e.FREE_FORM="free_form",e.POPULAR_RATIOS="popular_ratios",e.FACEBOOK="facebook",e.INSTAGRAM="instagram"})(t.CropMenuOptions||(t.CropMenuOptions={})),(function(e){e.UNSELECTED="unselected",e.SQUARE_ONE_BY_ONE="square_one_by_one",e.PORTRAIT_THREE_BY_FOUR="portrait_three_by_four",e.LANDSCAPE_FOUR_BY_THREE="landscape_four_by_three",e.WIDESCREEN_SIXTEEN_BY_NINE="widescreen_sixteen_by_nine",e.FB_PROFILE_PICTURE="fb_profile_picture",e.FB_STORY="fb_story",e.FB_TIMELINE_POST="fb_timeline_post",e.FB_PROFILE_COVER="fb_profile_cover",e.FB_EVENT_COVER="fb_event_cover",e.INSTA_PROFILE_PICTURE="insta_profile_picture",e.INSTA_STORY="insta_story",e.INSTA_SQUARE="insta_square",e.INSTA_PORTRAIT="insta_portrait",e.INSTA_LANDSCAPE="insta_landscape"})(t.CropRatioType||(t.CropRatioType={})),(function(e){e.RESIZE_WIDTH="resize_width",e.RESIZE_HEIGHT="resize_height"})(t.RatioResizeType||(t.RatioResizeType={})),(function(e){e.ADJUST="adjust",e.CROP="crop",e.FLIP="flip",e.NONE="none",e.ROTATE="rotate"})(t.EditingAction||(t.EditingAction={}))}));
//# sourceMappingURL=pkg-photo-editor.min.js-vflOFljTy.map