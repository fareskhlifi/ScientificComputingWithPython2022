define("metaserver/static/prod_assets_web_modules/dig-components/carousel",["exports","../common/index","react","../common/index.esm4","focus-visible","../common/index.esm5","../common/index.esm3","../common/index.esm6","../react-transition-group/CSSTransition","../common/extends","../common/Transition","react-dom"],(function(e,i,t,s,n,o,r,a,l,d,c,m){"use strict";var u=(function(e){if(e&&e.__esModule)return e;var i=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var s=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,s.get?s:{enumerable:!0,get:function(){return e[t]}})}})),i.default=e,Object.freeze(i)})(t),h=Object.defineProperty,g=(e,i,t)=>(((e,i,t)=>{i in e?h(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t})(e,"symbol"!=typeof i?i+"":i,t),t),p=u.createContext({activeSlide:0,showPager:!1,slideHeight:0,totalSlides:0,transitionDuration:"1400ms",isTransitioningFrom:-1,stopTransitioning:()=>({})}),v=u.createContext({isActive:!1,isTransitioningFrom:-1,primaryColor:"#0D2481",inverted:!1,columnIndex:0,slideIndex:0,transformY:0}),S=(e=>(e[e.CONTENT=0]="CONTENT",e[e.MEDIA=1]="MEDIA",e))(S||{}),C=u.forwardRef((e,t)=>{const{className:s,children:n,columnIndex:o,onTransitionEnd:r,renderPager:a,...l}=e,d=i.classNames106("dig-Carousel-column",s);return u.createElement(p.Consumer,null,({showPager:e,totalSlides:i,transitionDuration:s})=>u.createElement(v.Consumer,null,({primaryColor:r,inverted:c,columnIndex:m,slideIndex:h,transformY:g,onSlideEnd:p})=>{const v={transitionDuration:s,transform:`translate3d(0, ${g}px, 0)`},S={};if(r)switch(m){case 1:c||(v.backgroundColor=r);break;case 0:c&&(v.backgroundColor=r,S.color="#fff")}const C="function"==typeof a?a({slideIndex:h+1,totalSlides:i}):`${h+1} of ${i}`;return u.createElement("div",{className:d,style:v,tabIndex:-1,onTransitionEnd:e=>{p&&e&&e.target===e.currentTarget&&p({columnIndex:o||m,slideIndex:h},e)},ref:t,...l},0===m&&e&&u.createElement("div",{className:"dig-Carousel-pager",style:S},C),n)}))});C.displayName="CarouselSlideColumn";var f=class extends u.PureComponent{constructor(e){super(e),g(this,"isTransitioning",()=>this.state.isTransitioningFrom>-1),g(this,"stopTransitioning",e=>{this.isTransitioning()&&(this.state.activeSlide!==this.props.totalSlides-1&&1!==e.columnIndex||this.setState({isTransitioningFrom:-1},()=>{this.props.onSlideTransitioned&&this.props.onSlideTransitioned(this.state.activeSlide)}))}),g(this,"goToNext",()=>{this.isTransitioning()||this.state.activeSlide<this.props.totalSlides-1&&this.setState(e=>({activeSlide:e.activeSlide+1,isTransitioningFrom:e.activeSlide}),()=>{this.props.onSlide&&this.props.onSlide(this.state.activeSlide)})}),g(this,"goToPrevious",()=>{this.isTransitioning()||this.state.activeSlide>0&&this.setState(e=>({activeSlide:e.activeSlide-1,isTransitioningFrom:e.activeSlide}),()=>{this.props.onSlide&&this.props.onSlide(this.state.activeSlide)})}),g(this,"goToSlide",e=>{this.isTransitioning()||e===this.state.activeSlide||e>=0&&e<this.props.totalSlides&&this.setState(i=>({activeSlide:e,isTransitioningFrom:i.activeSlide}),()=>{this.props.onSlide&&this.props.onSlide(this.state.activeSlide)})}),g(this,"close",()=>{this.props.onClose&&this.props.onClose()}),this.state={activeSlide:this.props.defaultIndex||0,isTransitioningFrom:-1}}render(){const{children:e,className:t,defaultIndex:s=0,height:n,onClose:o,onSlide:r,onSlideTransitioned:a,showPager:l=!1,style:d,totalSlides:c,transitionDuration:m="1400ms",width:h,...g}=this.props,v=i.classNames106("dig-Carousel",t),S={...d,width:h,height:n},C={activeSlide:this.state.activeSlide,showPager:l,slideHeight:n,totalSlides:c,transitionDuration:m,isTransitioningFrom:this.state.isTransitioningFrom,stopTransitioning:this.stopTransitioning};return u.createElement(p.Provider,{value:C},u.createElement("div",{className:v,style:S,...g},e({activeSlide:this.state.activeSlide,totalSlides:this.props.totalSlides,isTransitioningFrom:this.state.isTransitioningFrom,goToNext:this.goToNext,goToPrevious:this.goToPrevious,goToSlide:this.goToSlide,close:this.close})))}};f.displayName="Carousel";var T=({className:e,style:t,variant:n,tabIndex:o,...r})=>{const a=i.classNames106("dig-Carousel-button",e);return u.createElement(v.Consumer,null,({isActive:e,isTransitioningFrom:i=-1,inverted:l})=>{const d={...t},c=i>-1||!e?-1:o;return u.createElement(s.Button,{className:a,style:d,variant:n,inverse:l,tabIndex:c,...r})})};T.displayName="CarouselButton";var N=u.forwardRef((e,t)=>{const{className:s,children:n,inverted:o=!1,isActive:r,isTransitioningFrom:a=-1,onSlideEnd:l,primaryColor:d,slideIndex:c=0,transformY:m=0,...h}=e,g=i.classNames106("dig-Carousel-slide",s,{"dig-Carousel-slide-active":r,"dig-Carousel-slide-inverted":o,"dig-Carousel-slide-transitioning":r&&a>-1||a===c});return u.createElement("div",{className:g,"aria-hidden":!r,tabIndex:-1,ref:t,...h},u.Children.map(n,(e,i)=>{const t={isActive:r,isTransitioningFrom:a,primaryColor:d,inverted:o,columnIndex:i,slideIndex:c,transformY:m,onSlideEnd:l};return u.createElement(v.Provider,{value:t},e)}))});N.displayName="CarouselSlide",e.COLUMN=S,e.Carousel=f,e.CarouselButton=T,e.CarouselContainer=({className:e,children:t,...s})=>{const n=i.classNames106("dig-Carousel-container",e);return u.createElement(p.Consumer,null,({activeSlide:e,slideHeight:i,stopTransitioning:o,isTransitioningFrom:r})=>u.createElement("div",{className:n,...s},u.Children.map(t,(t,s)=>{if(u.isValidElement(t)){if(t&&t.type!==N)throw new Error("CarouselContainer must only contain CarouselSlide.");const n=e===s,a=n?0:(function(e,[i,t]){return Math.min(Math.max(e,i),t)})(i*(s-e),[-1*i,i]);return u.cloneElement(t,{isActive:n,isTransitioningFrom:r,slideIndex:s,transformY:a,onSlideEnd:o})}})))},e.CarouselContext=p,e.CarouselHeading=function({className:e,...t}){const s=i.classNames106("dig-Carousel-heading",e);return u.createElement("h1",{className:s,...t})},e.CarouselSlide=N,e.CarouselSlideActions=function({className:e,...t}){const s=i.classNames106("dig-Carousel-slide-actions",e);return u.createElement("div",{className:s,...t})},e.CarouselSlideColumn=C,e.CarouselSlideColumnContent=function({className:e,...t}){const s=i.classNames106("dig-Carousel-slide-column-content",e);return u.createElement("div",{className:s,...t})},e.CarouselText=function({className:e,...t}){const s=i.classNames106("dig-Carousel-text",e);return u.createElement("div",{className:s,...t})},e.useFocusSlideOnTransition=e=>{if(e.length<=0)throw new Error("slideRefs length must be a positive integer");return u.useEffect(()=>{e[0].current&&e[0].current.focus()},[e[0].current]),u.useCallback(i=>{const t=e[i].current;t&&t.focus()},[e])},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-dig-carousel.min.js-vfleXeb4s.map