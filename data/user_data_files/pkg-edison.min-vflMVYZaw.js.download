define("metaserver/static/js/edison/edison",["require","exports","tslib","metaserver/static/js/css/css_cache","@bufbuild/protobuf","typescript/dropbox/proto/edison_dws2/messages_pb","typescript/dropbox/proto/pagelet_prefetch/data_modules/data_modules_pb","metaserver/static/js/edison/edison_metrics_logger","metaserver/static/js/edison/grpc_web","metaserver/static/js/clean/static_urls","js/proto_utils/unpack","react","react-dom","@dropbox/ttvc"],(function(e,t,n,o,i,r,a,s,c,l,d,u,p,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Edison=void 0,u=n.__importDefault(u),p=n.__importDefault(p);const _=new i.Empty;class f{constructor(e,t){this.isDoneStreaming=!1,this.loadedDataModules={},this.pendingDataModulePromises={},this.pendingDataModuleResolveFns={},this.consumedPrefetches={},this.pendingPrefetchPromises={},this.pendingPrefetchResolveFns={},this.numPrefetchesRequestedBeforeDoneStreaming=0,this.numPrefetchesRequestedAfterDoneStreaming=0,this.numPrefetchesByAjax=0,this.numPrefetchesStreamed=0,this.preloadedCssPaths=new Set,this.initParams=e;const{pageName:n}=e,{getLazyMetricsReporter:o}=t;this.metrics=new s.EdisonMetricsLogger({pageName:n,getLazyMetricsReporter:o})}static initialized(){return!!f.instance}static waitUntilInitialized(){return n.__awaiter(this,void 0,void 0,(function*(){yield f.initializedPromise}))}static init(e,t={}){if(f.instance)throw new Error("Edison is already initialized.");const{activeUserId:n,pageName:o,rpcProxyUrl:i}=e;if(!i&&!window.RUNNING_IN_REACTSERVER)throw new Error("rpcProxyUrl init param missing. This is required for the browser environment.");f.instance=new f(e,t),f.instance.metrics.recordInitReceived(),window.RUNNING_IN_EDISON=!0,window.EDISON_ACTIVE_USER_ID=Number(n),window.EDISON_PAGE_NAME=o,f.initializedResolveFn()}static reset(){f.instance=null}static beforeRender(e){const{beforeRenderModuleName:t}=f.getInitParams(),{beforeRender:n}=e;if(!n)throw new Error(`Module '${t}' does not export a beforeRender function.`);if("function"!=typeof n)throw new Error(`beforeRender member exported from '${t}' is not a function.`);e.beforeRender()}static render(e){const{entryPointModuleName:t}=f.getInitParams();if(!e.RootComponent)throw new Error(`Module '${t}' does not export a React component named RootComponent.`);const n=u.default.createElement(e.RootComponent);let o=document.getElementById("root");null===o&&(o=document.createElement("div"),o.id="root",document.body.appendChild(o));const i=f.instance;i.metrics.recordRenderStarted(),p.default.render(n,o,()=>{i.metrics.recordRenderComplete()})}static getInitParams(){if(!f.instance)throw new Error("Edison not initialized.");return f.instance.initParams}static getPageName(){return f.getInitParams().pageName}static getIsOfficeIp(){return f.getInitParams().isOfficeIp}static getActiveUserId(){return Number(f.getInitParams().activeUserId)}static getActiveTeamId(){return Number(f.getInitParams().activeTeamId)}static getLegacyController(){return f.getInitParams().legacyController}static getLegacyAction(){return f.getInitParams().legacyAction}static isStreamingEnabled(){return f.getInitParams().streamingEnabled}static isDoneStreaming(){var e;return(null===(e=f.instance)||void 0===e?void 0:e.isDoneStreaming)||!1}static getStaticRepoRev(){return f.getInitParams().staticRepoRev}static getDws2RepoRev(){return f.getInitParams().dws2RepoRev}static getRollupFormat(){return f.getInitParams().rollupFormat}static getIsDws2Stage(){return f.getInitParams().isDws2Stage}static getEntryPointModuleName(){return f.getInitParams().entryPointModuleName}static _grpcWebAjax(e){return(0,m.incrementAjaxCount)(),new Promise((t,n)=>{const{rpcProxyUrl:o,atlasservlet:r,pageName:a}=f.getInitParams(),s=new XMLHttpRequest;s.responseType="arraybuffer";const l=(function(e){switch(e.type.case){case"prefetch":return`pagelet_data/${e.type.value.key}`;case"serviceMethodPrefetch":return`${e.type.value.service}/${e.type.value.method}`;default:throw new Error(`unsupported request type: ${e.type.case}`)}})(e);s.open("POST",`${o}/${l}`,!0),s.setRequestHeader("Content-Type","application/grpc-web+proto"),s.setRequestHeader("X-Grpc-Web","1"),s.setRequestHeader("X-Edison-Atlasservlet",r),s.setRequestHeader("X-Edison-Page-Name",a),f.addAuthHeaders(s),s.onload=()=>{200!==s.status?n(new Error("gRPC Web request returned a non-200 status code. Check the server logs.")):s.response.byteLength<5&&n(new Error("gRPC Web request returned no content. Check the server logs."));const e=(0,c.decodeGrpcWebFormat)(s.response),o=i.protoBase64.enc(e);t(o)},s.onerror=()=>{n(new Error("gRPC Web request failed. Check the server logs."))};const{protoArguments:d}=e.type.value,u=(0,c.encodeGrpcWebFormat)(d.toBinary());s.send(u)}).finally(m.decrementAjaxCount)}static addAuthHeaders(e){const{activeUserId:t,activeTeamId:n}=f.getInitParams();t&&e.setRequestHeader("X-Dropbox-Uid",t.toString()),n&&e.setRequestHeader("X-Dropbox-Teamid",n.toString())}static prefetchHelper(e,t){if(!f.instance)throw new Error("Edison not initialized.");const n=f.instance;if(n.isDoneStreaming?n.numPrefetchesRequestedAfterDoneStreaming++:n.numPrefetchesRequestedBeforeDoneStreaming++,e.b64RequestKey)throw new Error("The EdisonRequest proto message parameter to prefetchHelper must not have a b64PrefetchKey set (it is computed here so we make sure it is the same between browser and streaming reactserver).");if(window.RUNNING_IN_REACTSERVER){const t=(0,d.marshalProto)(e);e.b64RequestKey=t;const n=(0,d.marshalProto)(e);return window.ReactserverEdisonClient.sendEdisonRequest(n),new Promise(()=>{})}const o=(0,d.marshalProto)(e),i=!!n.pendingPrefetchPromises[o];return!n.initParams.streamingEnabled||n.consumedPrefetches[o]||n.isDoneStreaming&&!i?(n.numPrefetchesByAjax++,f._grpcWebAjax(e)):(i||(n.pendingPrefetchPromises[o]=new Promise((t,i)=>{n.pendingPrefetchResolveFns[o]={requestMsg:e,resolve:t,reject:i}})),n.metrics.recordStreamedPrefetchRequestTime(o,t),n.consumedPrefetches[o]=!0,n.pendingPrefetchPromises[o])}static prefetch(e,t){const{atlasservlet:n,pageName:o}=f.getInitParams(),i=new r.EdisonRequest({type:{case:"prefetch",value:{key:e,protoArguments:(0,d.wrapInAny)(t||_),initialPageAtlasservlet:n,initialPageName:o}}});return f.prefetchHelper(i,e)}static preloadCSS(e){if(!f.instance)throw new Error("Edison not initialized.");const t=f.instance,n=window;if(window.RUNNING_IN_REACTSERVER){const o=[];for(const n of e)t.preloadedCssPaths.has(n)||(o.push(n),t.preloadedCssPaths.add(n));if(o.length>0){const e=new r.EdisonRequest({type:{case:"cssPreload",value:{cssPaths:o}}}),t=(0,d.marshalProto)(e);n.ReactserverEdisonClient.sendEdisonRequest(t)}}else{t.metrics.recordCssPreloadReceived();const n=document,i=(0,o.getOrCreateCache)(n);e.forEach(e=>{const t=(0,l.static_url)(e);(0,o.loadCssWithCache)(n,i,e,t)})}}static serviceMethodPrefetch(e,t,n){const{atlasservlet:o,pageName:i}=f.getInitParams(),a=new r.EdisonRequest({type:{case:"serviceMethodPrefetch",value:{service:e,method:t,protoArguments:(0,d.wrapInAny)(n||_),initialPageAtlasservlet:o,initialPageName:i}}}),s=`${e}.${t}`;return f.prefetchHelper(a,s)}static preloadJSModules(e){if(window.RUNNING_IN_REACTSERVER){const t=new r.EdisonRequest({type:{case:"modulePreload",value:{modulePaths:e}}}),n=(0,d.marshalProto)(t);window.ReactserverEdisonClient.sendEdisonRequest(n)}}static registerStreamedPrefetch(e,t,n=!1){if(!f.instance)throw new Error("Edison not initialized.");const o=f.instance;if(!o.initParams.streamingEnabled)throw new Error("Edison must be initialized with streaming enabled to handle streaming prefetches.");if(o.isDoneStreaming)throw new Error("Cannot register new streamed prefetch after marking that we are done streaming.");o.metrics.recordStreamedPrefetchResponseTime(e,n),o.numPrefetchesStreamed++,o.pendingPrefetchPromises[e]?o.pendingPrefetchResolveFns[e]&&(n?o.pendingPrefetchResolveFns[e].reject(new Error(t)):o.pendingPrefetchResolveFns[e].resolve(t),delete o.pendingPrefetchResolveFns[e]):o.pendingPrefetchPromises[e]=n?Promise.reject(new Error(t)):Promise.resolve(t)}static loadDataModule(e){if(!f.instance)throw new Error("Edison not initialized.");const t={};for(const n of e)n in f.instance.loadedDataModules&&(t[n]=f.instance.loadedDataModules[n]);if(Object.keys(t).length===e.length)return Promise.resolve(t);{const n=e.filter(e=>!(e in f.instance.loadedDataModules));return f.serviceMethodPrefetch("data_modules.DataModules","DataModulesPrefetch",new a.DataModulesPrefetchArguments({modules:n})).then(e=>{const o=(0,d.unmarshalProto)(e,a.DataModulesPrefetchData).dataModules;if(o.length!==n.length)throw new Error("unexpected number of data modules in the response -- we should have received exactly "+n.length+" but instead we got "+o.length);for(const{data:e,name:n}of o){if(!e||"json"!==e.type.case||!e.type.value)throw new Error("handling data modules with protobuf return type not yet implemented");{const o=JSON.parse(e.type.value);f.instance.loadedDataModules[n]=o,t[n]=o}}return t})}}static registerStreamedDataModule(e,t,n){if(!f.instance)throw new Error("Edison not initialized.");const o=f.instance;if(o.isDoneStreaming)throw new Error("Cannot register new streamed data modules after marking that we are done streaming.");if("proto"===t)throw new Error("handling data modules with protobuf return type not yet implemented");o.metrics.recordDataModuleReceived();const i=JSON.parse(n);if(o.pendingDataModulePromises[e]){if(!o.pendingDataModuleResolveFns[e])throw new Error(`Trying to resolve the promise for the streamed data module "${e}" but could not find resolve function in pendingDataModuleResolveFns`);o.pendingDataModuleResolveFns[e].resolve(i),delete o.pendingDataModuleResolveFns[e]}else o.pendingDataModulePromises[e]=Promise.resolve(i)}static getStreamedDataModule(e){if(!f.instance)throw new Error("Edison not initialized.");const t=f.instance;if(!t.initParams.streamingEnabled)throw new Error("Edison must be initialized with streaming enabled to get data modules streamed in page response.");if(!t.pendingDataModulePromises[e]){if(t.isDoneStreaming)throw new Error(`Data module "${e}" was not streamed.`);t.pendingDataModulePromises[e]=new Promise((n,o)=>{t.pendingDataModuleResolveFns[e]={resolve:n,reject:o}})}return t.pendingDataModulePromises[e]}static doneStreaming(){if(!f.instance)throw new Error("Edison not initialized.");const e=f.instance;if(!e.initParams.streamingEnabled)throw new Error("Cannot stop processing streaming chunks if Edison is not initialized with streaming enabled.");if(!e.isDoneStreaming){e.metrics.recordDoneStreamingReceived(),e.metrics.saveEventTimings();for(const t in e.pendingDataModuleResolveFns){if(t in e.loadedDataModules)throw new Error(`${t} was still pending registration by streamed inline chunks at time of "done streaming", but there already is a result for this data module being loaded already. This is an invalid state.`);e.pendingDataModuleResolveFns[t].reject(new Error("canceling data module progress: done streaming before receiving data module result")),delete e.pendingDataModuleResolveFns[t]}for(const t in e.pendingPrefetchResolveFns){const{requestMsg:n,resolve:o,reject:i}=e.pendingPrefetchResolveFns[t];f._grpcWebAjax(n).then(o).catch(i),delete e.pendingPrefetchResolveFns[t],e.numPrefetchesByAjax++}e.isDoneStreaming=!0}}static getPrefetchCounts(){if(!f.instance)throw new Error("Edison not initialized.");const e=f.instance;return{numPrefetchesRequestedAfterDoneStreaming:e.numPrefetchesRequestedAfterDoneStreaming,numPrefetchesRequestedBeforeDoneStreaming:e.numPrefetchesRequestedBeforeDoneStreaming,numPrefetchesByAjax:e.numPrefetchesByAjax,numPrefetchesStreamed:e.numPrefetchesStreamed}}}t.Edison=f,f.instance=null,f.initializedPromise=new Promise(e=>{f.initializedResolveFn=e})})),define("metaserver/static/js/edison/grpc_web",["require","exports"],(function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.decodeGrpcWebFormat=t.encodeGrpcWebFormat=void 0,(function(e){e[e.DATA=0]="DATA"})(n||(n={})),t.encodeGrpcWebFormat=function(e){const t=new Uint8Array(5+e.length);t[0]=n.DATA;for(let n=e.length,o=4;o>0;o--)t[o]=n%256,n>>>=8;return t.set(e,5),t},t.decodeGrpcWebFormat=function(e){const t=new Uint8Array(e);let n=0;for(let e=1;e<5;e++)n=(n<<8)+t[e];return t.subarray(5,5+n)}})),define("typescript/dropbox/proto/pagelet_prefetch/data_modules/data_modules_pb",["require","exports","@bufbuild/protobuf"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataModulesPrefetchData=t.DataModule=t.JsonOrProtoAny=t.DataModulesPrefetchArguments=void 0;class o extends n.Message{constructor(e){super(),this.modules=[],this.yapsProject="",this.yapsDeployment="",n.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new o).fromBinary(e,t)}static fromJson(e,t){return(new o).fromJson(e,t)}static fromJsonString(e,t){return(new o).fromJsonString(e,t)}static equals(e,t){return n.proto3.util.equals(o,e,t)}}t.DataModulesPrefetchArguments=o,o.runtime=n.proto3,o.typeName="datamodules.DataModulesPrefetchArguments",o.fields=n.proto3.util.newFieldList(()=>[{no:1,name:"modules",kind:"scalar",T:9,repeated:!0},{no:3,name:"yaps_project",kind:"scalar",T:9},{no:4,name:"yaps_deployment",kind:"scalar",T:9}]);class i extends n.Message{constructor(e){super(),this.type={case:void 0},n.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new i).fromBinary(e,t)}static fromJson(e,t){return(new i).fromJson(e,t)}static fromJsonString(e,t){return(new i).fromJsonString(e,t)}static equals(e,t){return n.proto3.util.equals(i,e,t)}}t.JsonOrProtoAny=i,i.runtime=n.proto3,i.typeName="datamodules.JsonOrProtoAny",i.fields=n.proto3.util.newFieldList(()=>[{no:1,name:"json",kind:"scalar",T:9,oneof:"type"},{no:2,name:"proto_any",kind:"message",T:n.Any,oneof:"type"}]);class r extends n.Message{constructor(e){super(),this.name="",n.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new r).fromBinary(e,t)}static fromJson(e,t){return(new r).fromJson(e,t)}static fromJsonString(e,t){return(new r).fromJsonString(e,t)}static equals(e,t){return n.proto3.util.equals(r,e,t)}}t.DataModule=r,r.runtime=n.proto3,r.typeName="datamodules.DataModule",r.fields=n.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"data",kind:"message",T:i}]);class a extends n.Message{constructor(e){super(),this.dataModules=[],n.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new a).fromBinary(e,t)}static fromJson(e,t){return(new a).fromJson(e,t)}static fromJsonString(e,t){return(new a).fromJsonString(e,t)}static equals(e,t){return n.proto3.util.equals(a,e,t)}}t.DataModulesPrefetchData=a,a.runtime=n.proto3,a.typeName="datamodules.DataModulesPrefetchData",a.fields=n.proto3.util.newFieldList(()=>[{no:1,name:"data_modules",kind:"message",T:r,repeated:!0}])})),define("metaserver/static/js/edison/edison_metrics_logger",["require","exports","tslib","typescript/libraries/shared/apex-metrics/src/types"],(function(e,t,n,o){"use strict";var i;function r(){const e=window.performance?window.performance.now():0;return Math.floor(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.EdisonMetricsLogger=t.TimingEventName=void 0,(function(e){e.JsExecutionStart="js_execution_start",e.RequireLoadCallbackTime="require_load_callback_time",e.InitPageModuleLoadTime="init_page_module_load_time",e.PreloadModulesLoadTime="preload_modules_load_time",e.InitReceived="init_received",e.RenderStarted="render_started",e.RenderComplete="render_complete",e.FirstDataModuleReceived="first_data_module_received",e.LastDataModuleReceived="last_data_module_received",e.FirstCssPreloadReceived="first_css_preload_received",e.LastCssPreloadReceived="last_css_preload_received",e.DoneStreamingReceived="done_streaming_received",e.StreamedPrefetchWaitTime="streamed_prefetch_wait_time"})(i=t.TimingEventName||(t.TimingEventName={}));t.EdisonMetricsLogger=class{constructor(e){this.AMP_NAMESPACE="web_timing";const{pageName:t,performanceNow:n=r,getLazyMetricsReporter:o}=e;this.pageName=t,this.performanceNow=n,this.lazyMetricsReporter=o?o():null,this.renderCompletePromise=new Promise(e=>{this.renderCompleteResolveFn=e}),this.eventTimings={},this.streamedPrefetchRequestTimingQueues={},this.streamedPrefetchResponseTimings={}}recordEventTime(e){this.eventTimings[e]=this.performanceNow()}recordEventTimeOnce(e){this.eventTimings[e]||this.recordEventTime(e)}getTags(e){return Object.assign({edison_page_name:this.pageName},e)}recordInitReceived(){this.recordEventTimeOnce(i.InitReceived)}recordRenderStarted(){this.recordEventTimeOnce(i.RenderStarted)}recordRenderComplete(){this.recordEventTimeOnce(i.RenderComplete),this.renderCompleteResolveFn()}recordDataModuleReceived(){this.recordEventTimeOnce(i.FirstDataModuleReceived),this.recordEventTime(i.LastDataModuleReceived)}recordCssPreloadReceived(){this.recordEventTimeOnce(i.FirstCssPreloadReceived),this.recordEventTime(i.LastCssPreloadReceived)}recordDoneStreamingReceived(){this.recordEventTimeOnce(i.DoneStreamingReceived)}saveEventTimings(){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.lazyMetricsReporter)return;yield this.renderCompletePromise;const e=yield this.lazyMetricsReporter,t=Object.assign(Object.assign({},(function(){const e={};return"number"==typeof window.EDISON_METRICS_JS_EXECUTION_START&&(e[i.JsExecutionStart]=window.EDISON_METRICS_JS_EXECUTION_START),"number"==typeof window.EDISON_METRICS_REQUIRE_LOAD_CALLBACK_TIME&&(e[i.RequireLoadCallbackTime]=window.EDISON_METRICS_REQUIRE_LOAD_CALLBACK_TIME),"number"==typeof window.EDISON_METRICS_INIT_PAGE_MODULE_LOAD_TIME&&(e[i.InitPageModuleLoadTime]=window.EDISON_METRICS_INIT_PAGE_MODULE_LOAD_TIME),"number"==typeof window.EDISON_METRICS_PRELOAD_MODULES_LOAD_TIME&&(e[i.PreloadModulesLoadTime]=window.EDISON_METRICS_PRELOAD_MODULES_LOAD_TIME),e})()),this.eventTimings);for(const[n,i]of Object.entries(t)){const t=this.getTags();e.createStats({ns:this.AMP_NAMESPACE,name:`edison/${n}`},t).recordDuration(i,o.TimeUnit.MILLISECONDS)}}))}recordStreamedPrefetchRequestTime(e,t){return n.__awaiter(this,void 0,void 0,(function*(){this.streamedPrefetchRequestTimingQueues[e]||(this.streamedPrefetchRequestTimingQueues[e]=[]),this.streamedPrefetchRequestTimingQueues[e].push({loggingIdentifier:t,requestTime:this.performanceNow(),processed:!1}),yield this.flushPrefetchTimingRecordQueue()}))}recordStreamedPrefetchResponseTime(e,t){return n.__awaiter(this,void 0,void 0,(function*(){this.streamedPrefetchResponseTimings[e]||(this.streamedPrefetchResponseTimings[e]={responseTime:this.performanceNow(),failed:t},yield this.flushPrefetchTimingRecordQueue())}))}flushPrefetchTimingRecordQueue(){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.lazyMetricsReporter)return;const e=yield this.lazyMetricsReporter,t={};for(const[n,r]of Object.entries(this.streamedPrefetchRequestTimingQueues)){const a=this.streamedPrefetchResponseTimings[n];if(a)for(const n of r){const{loggingIdentifier:r,requestTime:s}=n,{responseTime:c,failed:l}=a;if(t[r]||(t[r]=0),t[r]++,n.processed)continue;const d=`${r}_${t[r]}`,u=this.getTags({prefetch_id:d,failed:`${l}`}),p=e.createStats({ns:this.AMP_NAMESPACE,name:`edison/${i.StreamedPrefetchWaitTime}`},u),m=Math.max(c-s,0);p.recordDuration(m,o.TimeUnit.MILLISECONDS),n.processed=!0}}}))}}})),define("metaserver/static/js/edison/code_version",["require","exports","tslib","metaserver/static/js/modules/constants/page_load"],(function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaybeEdisonCodeVersion=void 0,t.getMaybeEdisonCodeVersion=function(){return n.__awaiter(this,void 0,void 0,(function*(){if(window.RUNNING_IN_EDISON){const{Edison:t}=yield new Promise((t,n)=>{e(["metaserver/static/js/edison/edison"],t,n)}).then(n.__importStar);return{versionType:"edison",staticRepoRev:t.getStaticRepoRev(),dws2RepoRev:t.getDws2RepoRev(),rollupFormat:t.getRollupFormat(),isDws2Stage:t.getIsDws2Stage()}}return{versionType:"metaserver",repoRev:o.REPO_REV}}))}})),define("typescript/libraries/file-viewer/src/core/config",["require","exports","typescript/libraries/file-viewer/src/core/types/preview_type","typescript/libraries/file-viewer/src/core/utils/paths"],(function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileSizeSupported=t.getFileSizeLimit=t.DEFAULT_FILE_CONFIG=t.DEFAULT_CONFIG=t.VIDEO_EDITING_SIZE_LIMIT=t.DEFAULT_OTHER_SIZE_LIMITS=void 0;const i=1048576,r=160*i,a=200*i,s=288*i,c=1024*i;function l(e,t,i){const r=(0,o.getFileExtension)(e),a=i.other_size_limits[r];if(a)return a;switch(t){case n.PreviewType.Archive:return i.archive_size_limit;case n.PreviewType.HTML:case n.PreviewType.Text:return i.text_size_limit;case n.PreviewType.Linkfile:return i.linkfile_size_limit;case n.PreviewType.Excel:return i.excel_size_limit}return 0}t.DEFAULT_OTHER_SIZE_LIMITS={".3fr":a,".ai":268435456,".arw":a,".azw4":31457280,".binder":a,".bmp":a,".cr2":a,".cr3":a,".crw":a,".csv":41943040,".dcr":a,".dcs":a,".djvu":31457280,".dng":a,".doc":r,".docm":r,".docx":r,".dot":r,".dotx":r,".dwg":104857600,".eps":268435456,".epub":31457280,".erf":a,".gdoc":r,".gif":a,".glsides":s,".gsheet":41943040,".heic":104857600,".jpeg":a,".jpg":a,".kdc":a,".key":c,".kth":c,".mef":a,".mobi":31457280,".mos":a,".mrw":a,".nef":a,".nrw":a,".numbers":c,".odg":r,".odp":r,".ods":41943040,".odt":r,".orf":a,".otf":33554432,".pages":c,".paper":a,".papert":a,".pdf":524288e3,".pef":a,".png":a,".ppm":a,".pps":s,".ppsm":s,".ppsx":s,".ppt":s,".pptm":s,".pptx":s,".ps":268435456,".psd":c,".r3d":a,".raf":a,".rtf":r,".rw2":a,".rwl":a,".sketch":c,".sr2":a,".svg":50331648,".svgz":50331648,".tif":a,".tiff":a,".ttf":33554432,".vtt":104857600,".webp":a,".wpd":r,".x3f":a,".xd":c},t.VIDEO_EDITING_SIZE_LIMIT=536870912,t.DEFAULT_CONFIG={other_size_limits:t.DEFAULT_OTHER_SIZE_LIMITS,archive_size_limit:536870912,text_size_limit:8388608,linkfile_size_limit:10485760,excel_size_limit:41943040,annotations:!1,ax_annotations:!1,enable_excel_headers:!0,enable_fullscreen:!1,excel_support:{support:"unsupported",embed_support:"unsupported"},file_flipping:!1,force_no_toolbar:!1,img_size_optimization:!1,keyboard_shortcuts:!0,preview_content_only:!1,show_cloud_doc_preview:!0,show_titlebar:!0,titlebar_logo_config:{show_logo:!1,base_url:""},mobile_web:!1,transparent_background:!1,log_views_to_pass:!0,preview_types:{[n.PreviewType.SsrDoc]:{scaleToFit:"width_and_height"}},partial_prewarm_allowed:!1,enable_fvsdk_dynamic_actions:!1,fvsdk_excel_ms_embed_phase:"OFF",tags_section_variant:"OFF",drag_section_annotation:!1,fvsdk_fastforward_rewind:"OFF",enable_assigned_tasks_plugin:!1,fvsdk_toolbar_rename:!1,delete_from_keyboard:!1,initial_video_bandwidth:null,fvsdk_slow_connection_banner:!1,enable_video_editing:!1,enable_video_crop:!1,enable_video_rotate:!1,replay_previews_permanent_entrypoint:"OFF",video_transcription:"OFF",fvsdk_campaigns_toolkit_publish:!1,mobile_web_preview_flipper:!1,mobile_web_preview_open_in_app_banner:!1,pap_logging:!1,campaigns_download_sisu:!1,publish_previews_painted_door_entrypoint:"OFF",campaigns_logged_out_sign_up_tooltip:"OFF",logged_out_acquisition_save_as:"OFF",google_one_tap_variant:"OFF",capture_preview_comment_recording:"OFF",publish_previews_permanent_entrypoint:"OFF"},t.DEFAULT_FILE_CONFIG={download_button:void 0,cloud_open_with_buttons:[],enable_print:!1,enable_open_button:!1,enable_restore_button:!1,enable_view_on_dropbox_button:!1,canEdit:!1},t.getFileSizeLimit=l,t.fileSizeSupported=function(e,t,n,o){if(!isFinite(t))return!0;const i=l(e,n,o);return!i||t<=i}})),define("metaserver/static/js/edison/ui/spa_chrome",["require","exports","tslib","classnames","react","metaserver/static/js/edison/ui/router_utils","metaserver/static/js/maestro/layout/chrome","metaserver/static/js/maestro/layout/search","metaserver/static/js/edison/ui/component/privacy_consent"],(function(e,t,n,o,i,r,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeWrapper=void 0,o=n.__importDefault(o),i=n.__importDefault(i);t.ChromeWrapper=e=>{if((0,r.shouldUseReactRouter)()){const{chromeClass:t}=e,r=n.__rest(e,["chromeClass"]);return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.MaestroChrome,Object.assign({},r,{chromeClass:(0,o.default)({"maestro-chrome--right-rail":e.useRightRailOutsideSearch},t)})),i.default.createElement(c.PrivacyConsent,null))}return i.default.createElement(i.default.Fragment,null,i.default.createElement(s.SearchChrome,Object.assign({searchBarProps:{searchVariant:"full-page"}},e)),i.default.createElement(c.PrivacyConsent,null))}})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderCreationAction=t.ResponsiveSize=t.ActionBarActionEventSource=t.ActionBarMenuType=t.isActionBarCustomMenuAction=t.isActionBarActionMenuSubmenu=t.ActionBarActionTypes=void 0,(function(e){e[e.CREATE=0]="CREATE",e[e.UPLOAD=1]="UPLOAD",e[e.DOWNLOAD=2]="DOWNLOAD",e[e.OPEN=3]="OPEN",e[e.RENAME=4]="RENAME",e[e.COPY=5]="COPY",e[e.DELETE=6]="DELETE",e[e.REMOVE=7]="REMOVE",e[e.PASTE=8]="PASTE",e[e.MOVE=9]="MOVE",e[e.REQUEST_FILES=10]="REQUEST_FILES",e[e.DESKTOP_OVERFLOW=11]="DESKTOP_OVERFLOW",e[e.REWIND=12]="REWIND",e[e.COMMENT=13]="COMMENT",e[e.VAULT_UNLOCK=14]="VAULT_UNLOCK",e[e.VAULT_LOCK=15]="VAULT_LOCK",e[e.ARCHIVE=16]="ARCHIVE",e[e.FILE_LOCK=17]="FILE_LOCK",e[e.FILE_UNLOCK=18]="FILE_UNLOCK",e[e.FILE_REQUEST_UNLOCK=19]="FILE_REQUEST_UNLOCK",e[e.EVENTS=20]="EVENTS",e[e.CALCULATE_FOLDER_SIZE=21]="CALCULATE_FOLDER_SIZE",e[e.MANAGE_AS_ADMIN=22]="MANAGE_AS_ADMIN",e[e.VERSION_HISTORY=23]="VERSION_HISTORY",e[e.UNPIN=24]="UNPIN",e[e.PIN_TO=25]="PIN_TO",e[e.PIN_TO_ROOT=26]="PIN_TO_ROOT",e[e.RESTORE=27]="RESTORE",e[e.PERMANENT_DELETE=28]="PERMANENT_DELETE",e[e.STAR=29]="STAR",e[e.UNSTAR=30]="UNSTAR",e[e.RE_ADD_SHARED_FOLDER=31]="RE_ADD_SHARED_FOLDER",e[e.SHOW_DELETED_FILES=32]="SHOW_DELETED_FILES",e[e.HIDE_DELETED_FILES=33]="HIDE_DELETED_FILES",e[e.ADD_TO_TRANSFER=34]="ADD_TO_TRANSFER",e[e.SHARE=35]="SHARE",e[e.SHARE_MODAL=36]="SHARE_MODAL",e[e.GO_TO_FOLDER=37]="GO_TO_FOLDER",e[e.ADD_CONTENT=38]="ADD_CONTENT",e[e.OPEN_MAC_DESKTOP=39]="OPEN_MAC_DESKTOP",e[e.OPEN_WINDOWS_DESKTOP=40]="OPEN_WINDOWS_DESKTOP",e[e.OPEN_IN_NEW_TAB=41]="OPEN_IN_NEW_TAB",e[e.SHARE_COPY_LINK=42]="SHARE_COPY_LINK",e[e.SPACES_DROPDOWN=43]="SPACES_DROPDOWN",e[e.FOLLOW=44]="FOLLOW",e[e.FOLLOWING=45]="FOLLOWING",e[e.SAVE_AS=46]="SAVE_AS",e[e.TIDY_UP=47]="TIDY_UP",e[e.APPLY_NAMING_CONVENTION=48]="APPLY_NAMING_CONVENTION",e[e.ADD_FOLDER_AUTOMATION=49]="ADD_FOLDER_AUTOMATION",e[e.EDIT_FOLDER_AUTOMATION=50]="EDIT_FOLDER_AUTOMATION",e[e.CONVERT_TO_ARCHIVE=51]="CONVERT_TO_ARCHIVE",e[e.SPACES_REDIRECT=52]="SPACES_REDIRECT",e[e.SEND_FOR_SIGNATURE=53]="SEND_FOR_SIGNATURE",e[e.REQUEST_APPROVAL=54]="REQUEST_APPROVAL",e[e.ACTIVITY=55]="ACTIVITY",e[e.CUSTOM_ACTION=56]="CUSTOM_ACTION",e[e.CAPTURE_SCREEN=57]="CAPTURE_SCREEN",e[e.CAPTURE_SCREEN_CAMERA=58]="CAPTURE_SCREEN_CAMERA",e[e.ADD_TO_COLLECTION=59]="ADD_TO_COLLECTION",e[e.SAVE_NEW_VERSION=60]="SAVE_NEW_VERSION",e[e.DELETE_CLIENT_PORTAL=61]="DELETE_CLIENT_PORTAL",e[e.CREATE_CLIENT_PORTAL=62]="CREATE_CLIENT_PORTAL",e[e.ENABLE_CLIENT_PORTAL_UPLOADS=63]="ENABLE_CLIENT_PORTAL_UPLOADS",e[e.DISABLE_CLIENT_PORTAL_UPLOADS=64]="DISABLE_CLIENT_PORTAL_UPLOADS",e[e.SELF_SIGN_ACTION=65]="SELF_SIGN_ACTION",e[e.FIND_DUPLICATES=66]="FIND_DUPLICATES",e[e.ORGANIZE=67]="ORGANIZE",e[e.EDIT_PDF=68]="EDIT_PDF",e[e.BACKUP_COPY_TO_FSS=69]="BACKUP_COPY_TO_FSS",e[e.UNZIP=70]="UNZIP",e[e.EDIT_IMAGE=71]="EDIT_IMAGE"})(t.ActionBarActionTypes||(t.ActionBarActionTypes={}));t.isActionBarActionMenuSubmenu=e=>Boolean(e.submenuSections);t.isActionBarCustomMenuAction=e=>Boolean(e.menuItem),(function(e){e[e.DROPDOWN=0]="DROPDOWN",e[e.CUSTOM_DROPDOWN=1]="CUSTOM_DROPDOWN",e[e.SPLIT_BUTTON=2]="SPLIT_BUTTON"})(t.ActionBarMenuType||(t.ActionBarMenuType={})),(function(e){e[e.BUTTON=0]="BUTTON",e[e.BUTTON_MENU=1]="BUTTON_MENU",e[e.OVERFLOW_MENU=2]="OVERFLOW_MENU"})(t.ActionBarActionEventSource||(t.ActionBarActionEventSource={})),(function(e){e[e.MOBILE=0]="MOBILE",e[e.TABLET=1]="TABLET",e[e.DESKTOP=2]="DESKTOP"})(t.ResponsiveSize||(t.ResponsiveSize={})),(function(e){e.FOLDER="folder",e.SHARED_FOLDER="shared-folder",e.TEAM_FOLDER="team-folder",e.AUTOMATED_FOLDER="automated-folder",e.CREATE_CLIENT_PORTAL="create-portal"})(t.FolderCreationAction||(t.FolderCreationAction={}))})),define("typescript/component_libraries/files_components/src/file-drag/index",["require","exports","tslib","typescript/component_libraries/files_components/src/file-drag/internal_file_drag"],(function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(o,t)})),define("typescript/component_libraries/files_components/src/table/columns/size_column",["require","exports","tslib","react","react-intl","typescript/component_libraries/files_components/src/common/format_bytes"],(function(e,t,n,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSizeColumn=void 0,o=n.__importStar(o),t.FileSizeColumn={id:"size",Header:()=>o.createElement(o.Fragment,null,(0,i.useIntl)().formatMessage(a)),Cell:({row:{original:e}})=>{const t=(0,i.useIntl)();return o.createElement(o.Fragment,null,e.sizeInBytes?(0,r.formatBytes)(t,e.sizeInBytes):"")},accessor:e=>e.sizeInBytes||-1};const a=(0,i.defineMessage)({id:"8dPTcd",defaultMessage:"Size"})})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/index",["require","exports","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar","typescript/component_libraries/retrieval-components/src/simple-action-bar/inline_action_bar","typescript/component_libraries/retrieval-components/src/simple-action-bar/inline_overflow_menu"],(function(e,t,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineOverflowMenu=t.InlineActionBar=t.ActionBar=void 0,Object.defineProperty(t,"ActionBar",{enumerable:!0,get:function(){return n.ActionBar}}),Object.defineProperty(t,"InlineActionBar",{enumerable:!0,get:function(){return o.InlineActionBar}}),Object.defineProperty(t,"InlineOverflowMenu",{enumerable:!0,get:function(){return i.InlineOverflowMenu}})})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_overflow_menu","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","typescript/component_libraries/retrieval-components/src/hooks/resize_observer","classnames","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types"],(function(e,t,n,o,i,r,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBar=void 0,o=n.__importStar(o),c=n.__importDefault(c);const d={previousActions:{},offsetRight:[]};function u(e){return null!=e}t.ActionBar=function(e){const{actionHandler:t,actions:n,className:p,intl:m,handleOverflowMenuToggle:_,hideOverflowMenu:f,responsive:E,responsiveSize:v,accessibilityConfig:g,hideIcons:A,overflowMenuOpenRequest:b,overflowMenuCloseRequest:h,overflowMenuCoordinates:T,resolveOverflowMenuOpenRequest:O,overflowMenuTitle:R,expActionBarRedesignEnabled:w,hideOverflowMenuHeader:M,canShowSelectionIndicatorInToolbar:y,createMenuOpenRequest:I,resolveCreateMenuOpenRequest:S,logPDFEditImpression:P}=e,N=E&&(v===a.ResponsiveSize.MOBILE||v===a.ResponsiveSize.TABLET),C=E&&v===a.ResponsiveSize.MOBILE,[D]=(0,s.useResizeObserver)();let L=void 0;D.current&&(L=y?D.current.offsetLeft+D.current.offsetWidth-48:D.current.offsetLeft+D.current.offsetWidth);const B=o.useRef(null),F=o.useRef(null),x=o.useRef(null),q=o.useRef(null),U=o.useRef(null),j=o.useRef(null),[k,z]=o.useState(d);o.useLayoutEffect(()=>{z({previousActions:n,offsetRight:[B,F,x,q,U].map(e=>e.current&&e.current.offsetLeft+e.current.offsetWidth).filter(u)})},[n]);const{alwaysAtTopLevel:H,atTopLevelIfSpace:W,alwaysInOverflow:V,hasActions:G}=o.useMemo(()=>{var e,t,o;return{alwaysAtTopLevel:n.alwaysAtTopLevel,atTopLevelIfSpace:n.atTopLevelIfSpace,alwaysInOverflow:n.alwaysInOverflow,hasActions:(null===(e=n.alwaysAtTopLevel)||void 0===e?void 0:e.length)||(null===(t=n.atTopLevelIfSpace)||void 0===t?void 0:t.length)||(null===(o=n.alwaysInOverflow)||void 0===o?void 0:o.length)}},[n]),{previousActions:K,offsetRight:$}=k,J=E&&L&&n===K?$.filter(e=>e+43<L).length:5,Y=(0,c.default)("rc-action-bar-container",p,{"rc-action-bar-container--responsive":E}),Q=e=>e.actionType===l.ActionBarActionTypes.CUSTOM_ACTION?e.id:e.actionType,Z=o.useMemo(()=>{const e=(null==W?void 0:W.slice(0,J))||[];(null==H?void 0:H.length)&&e.unshift(...H);const t=new Set(e.map(e=>Q(e))||[]);let n=[];V&&(n=V.reduce((e,t)=>e.concat(t),[]));const o=new Set((null==n?void 0:n.map(e=>Q(e)))||[]);if(t.size!==o.size)return!0;for(const e of Array.from(t))if(!o.has(e))return!0;return!1},[H,W,V,J]);if(!G)return o.createElement("div",{className:Y});const X=[B,F,x,q,U],ee=!f&&Z&&(null==V?void 0:V.some(e=>e.length>0));return o.createElement("div",{ref:D,className:Y,style:{width:e.fixedWidth}},!!(null==H?void 0:H.length)&&o.createElement(o.Fragment,null,H.map((e,n)=>o.createElement("div",{className:"rc-action-bar-top-level",ref:X[n],key:`action-bar-action-${n}`},o.createElement(i.ActionBarAction,Object.assign({},e,{buttonVariant:0===n?"primary":"opacity",actionHandler:t,intl:m,accessibilityConfig:g,hideIcons:N||A,expActionBarRedesignEnabled:w,createMenuOpenRequest:I,resolveCreateMenuOpenRequest:S})))),(!!(null==W?void 0:W.length)||ee)&&o.createElement("div",{className:(0,c.default)("rc-action-bar-separator",{"rc-action-bar-separator-small":N})})),!!(null==W?void 0:W.length)&&(null==W?void 0:W.slice(0,J).map((e,n)=>o.createElement("div",{ref:X[n],key:`action-bar-action-${n}`,className:`action-bar-action-${Q(e)}`},o.createElement(i.ActionBarAction,Object.assign({},e,{buttonVariant:"opacity",actionHandler:t,intl:m,accessibilityConfig:g,hideIcons:e.actionType!==l.ActionBarActionTypes.SHARE_COPY_LINK&&(N||A),expActionBarRedesignEnabled:w,createMenuOpenRequest:I,resolveCreateMenuOpenRequest:S,useIconButton:e.actionType===l.ActionBarActionTypes.SHARE_COPY_LINK,anchorRef:j}))))),ee&&o.createElement(r.ActionBarOverflowMenu,{actions:{alwaysAtTopLevel:H,atTopLevelIfSpace:W,alwaysInOverflow:V},actionHandler:t,buttonVariant:w?"opacity":"transparent",overflowMenuTitle:R||"",expActionBarRedesignEnabled:w||!1,intl:m,onToggle:_,accessibilityConfig:g,overflowMenuOpenRequest:b,overflowMenuCloseRequest:h,overflowMenuCoordinates:T,resolveOverflowMenuOpenRequest:O,isMobile:!!C,hideOverflowMenuHeader:M,logPDFEditImpression:P}))}})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action_button","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action_menu","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_split_button","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_utils","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types"],(function(e,t,n,o,i,r,a,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarAction=void 0,o=n.__importStar(o);class l extends o.Component{constructor(){super(...arguments),this.handleMenuSelection=(e,t)=>{const n=(0,s.createActionBarActionEventInfo)(e,c.ActionBarActionEventSource.BUTTON_MENU,t);void 0!==n&&this.props.actionHandler.handleAction(n)},this.handleMenuToggle=({isOpen:e})=>{this.props.actionHandler.handleMenuToggle&&this.props.actionHandler.handleMenuToggle({type:this.props.actionType,isOpen:e})},this.handleActionClick=e=>{this.props.actionHandler.handleAction({type:this.props.actionType,event:e,source:c.ActionBarActionEventSource.BUTTON,anchorRef:this.props.anchorRef?this.props.anchorRef:void 0},!1)}}render(){const{menu:e,isEnabled:t,intl:n,variant:l,accessibilityConfig:d,icon:u,hideIcons:p,tooltip:m,disabledTooltip:_,menuMinWidth:f,actionType:E,className:v,dropdownButtonClassName:g,buttonVariant:A,expActionBarRedesignEnabled:b,createMenuOpenRequest:h,resolveCreateMenuOpenRequest:T,useIconButton:O,anchorRef:R}=this.props,w=this.props.labelOverride||n.formatMessage(this.props.text),M=(0,s.getAccessibilityLabel)(n,w,"primary"===l?null==d?void 0:d.primaryActionContext:null==d?void 0:d.secondaryActionsContext);if(this.props.renderButton)return this.props.renderButton(p||!1);if(this.props.button)return this.props.button;if((null==e?void 0:e.type)===c.ActionBarMenuType.DROPDOWN){const n=E===c.ActionBarActionTypes.CREATE;return o.createElement(r.ActionBarActionMenu,{disabled:!t,value:w,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,icon:p?void 0:u,variant:A,ariaLabel:M,tooltip:m,minWidth:f,actionType:E,className:v,dropdownButtonClassName:g,menuOpenRequest:n?h:void 0,resolveOpenRequest:n?T:void 0},o.createElement(r.ActionBarActionMenuContent,{menuSections:e.menuSections,expActionBarRedesignEnabled:b}))}return(null==e?void 0:e.type)===c.ActionBarMenuType.CUSTOM_DROPDOWN?o.createElement(r.ActionBarActionMenu,{disabled:!t,value:w,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,icon:p?void 0:u,variant:A,ariaLabel:M,tooltip:m,actionType:E,className:v,dropdownButtonClassName:g,expActionBarRedesignEnabled:b},e.menuContent):(null==e?void 0:e.type)===c.ActionBarMenuType.SPLIT_BUTTON?o.createElement(a.ActionBarSplitButton,{disabled:!t,onClick:this.handleActionClick,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,value:w,intl:n,icon:p?void 0:u,ariaLabel:M,menuSections:e.menuSections,className:v,expActionBarRedesignEnabled:b}):o.createElement(i.ActionBarActionButton,{disabled:!t,value:w,onClick:this.handleActionClick,icon:p?void 0:u,variant:A,ariaLabel:M,tooltip:m,disabledTooltip:_,className:v,useIconButton:!!O,anchorRef:R||void 0})}}t.ActionBarAction=l,l.displayName="ActionBarAction"})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action_button",["require","exports","tslib","react","dig-components/buttons","dig-components/tooltips","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_icon"],(function(e,t,n,o,i,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarActionButton=void 0,o=n.__importStar(o);t.ActionBarActionButton=({variant:e,disabled:t,value:n,onClick:s,icon:c,ariaLabel:l,tooltip:d,disabledTooltip:u,className:p,useIconButton:m,anchorRef:_})=>{const f=m?o.createElement(i.IconButton,{variant:"opacity",onClick:s,"aria-label":l,disabled:t,className:p},c?o.createElement(a.ActionBarIcon,{icon:c}):void 0):o.createElement(i.Button,{variant:e,disabled:t,onClick:s,withIconLeft:c?o.createElement(a.ActionBarIcon,{icon:c}):void 0,"aria-label":l,className:p},n),[E,v]=o.useState(!1),[g,A]=o.useState("bottom"),b=o.createRef(),h=()=>{v(!0)},T=()=>{v(!1)},O=e=>A(e);return t&&u?o.createElement(o.Fragment,null,o.createElement("span",{tabIndex:0,onMouseEnter:h,onMouseLeave:T,onFocus:h,onBlur:T,"aria-describedby":E&&E?"tooltip-button":void 0},o.createElement(i.Button,{variant:e,disabled:!0,onClick:s,withIconLeft:c?o.createElement(a.ActionBarIcon,{icon:c}):void 0,"aria-label":l,ref:b,className:p},n)),o.createElement(r.Tooltip.Control,{id:"tooltip-button",triggerRef:b,open:E,auto:!0,placement:g,onChangePlacement:O},u)):d?o.createElement(r.Tooltip,{title:d,id:"tooltip-button",triggerRef:_},f):f},t.ActionBarActionButton.displayName="ActionBarActionButton"})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action_menu",["require","exports","tslib","react","classnames","dig-components/buttons","dig-components/menu","dig-components/tooltips","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_icon","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types"],(function(e,t,n,o,i,r,a,s,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarActionMenuContentItem=t.ActionBarActionMenuContent=t.ActionBarActionMenu=void 0,o=n.__importStar(o),i=n.__importDefault(i);t.ActionBarActionMenu=({variant:e,disabled:t,value:n,onSelection:i,onToggle:l,icon:u,children:p,ariaLabel:m,tooltip:_,minWidth:f,className:E,dropdownButtonClassName:v,expActionBarRedesignEnabled:g,menuOpenRequest:A,resolveOpenRequest:b})=>{const h=void 0!==f?{minWidth:f}:{};return o.createElement(a.Menu.Wrapper,{onSelection:i,onToggle:l,className:E},({getTriggerProps:i,getContentProps:l,triggerRef:f,openMenu:E})=>{const T=o.createElement(r.Button,Object.assign({className:v,variant:e,withDropdownIcon:!0,disabled:t,withIconLeft:u?o.createElement(c.ActionBarIcon,{icon:u}):void 0,"aria-label":m},i()),n);return o.createElement(d,{openMenu:E,menuOpenRequest:A,resolveOpenRequest:b},o.createElement(o.Fragment,null,_?o.createElement(s.Tooltip,{title:_,triggerRef:f,id:"tooltip-button"},T):T,o.createElement(a.Menu.Content,Object.assign({},l(),{style:h,className:g?"rc-action-bar-submenu-content":""}),p)))})},t.ActionBarActionMenu.displayName="ActionBarActionMenu";const d=({openMenu:e,menuOpenRequest:t,resolveOpenRequest:n,children:i})=>(o.useEffect(()=>{t&&(e(t),n&&n())},[t,n]),i);t.ActionBarActionMenuContent=({menuSections:e,expActionBarRedesignEnabled:n})=>o.createElement(o.Fragment,null,e.map((e,i)=>o.createElement(a.Menu.Segment,{key:`${i}-section`,withLabel:e.label},e.menuItems.map((e,r)=>o.createElement(t.ActionBarActionMenuContentItem,{menuItem:e,key:(0,l.isActionBarActionMenuSubmenu)(e)?`${i}-${r}-submenu`:`${i}-${r}-action-item`,expActionBarRedesignEnabled:n}))))),t.ActionBarActionMenuContent.displayName="ActionBarActionMenuContent";t.ActionBarActionMenuContentItem=({menuItem:e,expActionBarRedesignEnabled:n,highlightedTextElement:r})=>{const d=!1===e.isEnabled,u=o.createElement(o.Fragment,null,r||e.description," ",e.badge);if((0,l.isActionBarActionMenuSubmenu)(e))return o.createElement(a.Menu.Submenu,{id:e.id,withTriggerContent:u,withLeftAccessory:e.icon&&o.createElement(c.ActionBarIcon,{icon:e.icon}),contentClassName:n?"rc-action-bar-submenu-content":"",disabled:d,onSubmenuOpened:e.onSubmenuOpened},o.createElement(t.ActionBarActionMenuContent,{menuSections:e.submenuSections,expActionBarRedesignEnabled:n}));if((0,l.isActionBarCustomMenuAction)(e))return e.menuItem;const p={nodeType:"dropdown",actionType:e.value.type,menuItem:e.value};return d&&e.disabledTooltip?o.createElement(s.Tooltip,{title:e.disabledTooltip,placement:"left",id:"tooltip-item"},o.createElement(a.Menu.ActionItem,{id:e.id,className:(0,i.default)(e.className,{"visuallyDisabled-see-DSYS-1278":d}),value:"NOOP_SEE_DSYS-1278",disabled:!1,withLeftAccessory:e.icon&&o.createElement(c.ActionBarIcon,{icon:e.icon})},u)):o.createElement(a.Menu.ActionItem,{id:e.id,className:e.className,value:p,disabled:d,withLeftAccessory:e.icon&&o.createElement(c.ActionBarIcon,{icon:e.icon})},u)},t.ActionBarActionMenuContentItem.displayName="ActionBarActionMenuContentItem"})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_overflow_menu",["require","exports","tslib","react","classnames","dig-components/badges","dig-components/buttons","dig-components/icons/src","dig-components/menu","dig-components/tooltips","dig-components/typography","dig-components/truncate","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action_menu","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_icon","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_utils","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types"],(function(e,t,n,o,i,r,a,s,c,l,d,u,p,m,_,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarOverflowMenuItem=t.ActionBarOverflowMenu=void 0,o=n.__importStar(o),i=n.__importDefault(i);t.ActionBarOverflowMenu=e=>{const{actions:n,buttonVariant:r,intl:p,onToggle:v,showTooltip:g,accessibilityConfig:A,size:b,overflowMenuOpenRequest:h,overflowMenuCloseRequest:T,resolveOverflowMenuOpenRequest:O,resolveOverflowMenuCloseRequest:R,inverse:w,overflowMenuTitle:M,expActionBarRedesignEnabled:y,isMobile:I,overflowMenuCoordinates:S,hideOverflowMenuHeader:P}=e,N=void 0!==S,C=o.useRef(new class{constructor(){this.position=[0,0]}getBoundingClientRect(){return{height:0,width:0,top:this.position[1],right:this.position[0],bottom:this.position[1],left:this.position[0]}}}),D=e=>{e.stopPropagation()},L=e.intl.formatMessage(_.MORE_MENU_STRING),B=(0,_.getAccessibilityLabel)(p,L,null==A?void 0:A.secondaryActionsContext);return o.createElement(c.Menu.Wrapper,{onSelection:(t,n)=>{const o=(0,_.createActionBarActionEventInfo)(t,f.ActionBarActionEventSource.OVERFLOW_MENU,n);void 0!==o?e.actionHandler.handleAction(o,N):(null==t?void 0:t.handler)&&t.handler()},onToggle:e=>{null==v||v(e)},closeOnBlurWhenDefaultPrevented:!1,slideSubmenu:!!I,shouldPropagateClickOutsideMouseEvents:!!S,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},({getTriggerProps:f,getContentProps:v,triggerRef:A,openMenu:I,closeMenu:L})=>{var F;const x=f(),q=o.createElement(a.IconButton,Object.assign({},x,{variant:r,onClick:e=>{var t;e.preventDefault(),null===(t=null==x?void 0:x.onClick)||void 0===t||t.call(x,e)},"aria-label":B,"data-testid":"action-bar-overflow",size:b,inverse:w}),o.createElement(m.ActionBarIcon,{icon:s.MoreHorizontalLine,"aria-hidden":"true"}));return o.createElement(E,{openMenu:I,overflowMenuOpenRequest:h,resolveOverflowMenuOpenRequest:O,resolveOverflowMenuCloseRequest:R,overflowMenuCloseRequest:T,closeMenu:L,overflowMenuCoordinates:S,virtualTriggerRef:C},o.createElement(o.Fragment,null,g?o.createElement(l.Tooltip,{title:p.formatMessage(_.MORE_TOOLTIP_STRING),triggerRef:A},q):q,o.createElement(c.Menu.Content,Object.assign({},v(),{triggerRef:S?C:A,className:y?"rc-action-bar-overflow-menu-content":"",onClick:D}),o.createElement("div",{className:y?"rc-action-bar-overflow-menu-container":"",onMouseDown:e=>{e.preventDefault()}},y&&!P&&o.createElement(c.Menu.Segment,{className:"rc-action-bar-overflow-menu-header"},o.createElement(c.Menu.Row,{interactive:!1},o.createElement(c.Menu.RowTitle,null,o.createElement(d.Text,{isBold:!0},o.createElement(u.Truncate,{location:.5,tooltipControlProps:{placement:"top",openDelay:500}},M))))),o.createElement(c.Menu.Segment,{className:(0,i.default)("rc-action-bar-overflow-menu-bottom-container",{"rc-action-bar-overflow-menu-bottom-container--redesign":y})},null===(F=n.alwaysInOverflow)||void 0===F?void 0:F.map((n,i)=>!!n.length&&o.createElement(c.Menu.Segment,{key:i,className:"rc-action-bar-overflow-menu-segment"},n.map((n,i)=>o.createElement(t.ActionBarOverflowMenuItem,{key:`action-bar-overflow-menu-item-${i}`,action:n,intl:p,actionHandler:e.actionHandler,closeMenu:L,expActionBarRedesignEnabled:y,isRightClickMenu:N,logPDFEditImpression:e.logPDFEditImpression})))))))))})},t.ActionBarOverflowMenu.displayName="ActionBarOverflowMenu";const E=({openMenu:e,closeMenu:t,overflowMenuOpenRequest:n,resolveOverflowMenuOpenRequest:i,children:r,overflowMenuCloseRequest:a,resolveOverflowMenuCloseRequest:s,overflowMenuCoordinates:c,virtualTriggerRef:l})=>(o.useEffect(()=>{n&&(e(n),i&&i())},[n,i]),o.useEffect(()=>{a&&(t(a),s&&s())},[a,s]),o.useLayoutEffect(()=>{if(c&&l){const[e,t]=c;l.current.position=[e,t]}},[c]),r);t.ActionBarOverflowMenuItem=({action:e,intl:t,actionHandler:n,closeMenu:i,expActionBarRedesignEnabled:a,highlightedTextElement:s,isRightClickMenu:d,logPDFEditImpression:u})=>{var _;const E=!e.isEnabled,v=s||e.labelOverride||t.formatMessage(e.text),g=o.useRef(null),A=e=>{n.handleAction({type:f.ActionBarActionTypes.SHARE_COPY_LINK,event:e,source:f.ActionBarActionEventSource.OVERFLOW_MENU,anchorRef:g,onActionFlowComplete:()=>i({})},d)};if(o.useEffect(()=>{e.actionType===f.ActionBarActionTypes.EDIT_PDF&&(null==u||u())},[]),e.overflowItem)return e.overflowItem;switch(null===(_=e.menu)||void 0===_?void 0:_.type){case f.ActionBarMenuType.DROPDOWN:case f.ActionBarMenuType.SPLIT_BUTTON:return o.createElement(c.Menu.Submenu,{disabled:E,withTriggerContent:v,withLeftAccessory:o.createElement(m.ActionBarIcon,{icon:e.icon}),contentClassName:a?"rc-action-bar-submenu-content":""},o.createElement(p.ActionBarActionMenuContent,{menuSections:e.menu.menuSections,expActionBarRedesignEnabled:a}));case f.ActionBarMenuType.CUSTOM_DROPDOWN:return o.createElement(c.Menu.Submenu,{disabled:E,withTriggerContent:v,withLeftAccessory:o.createElement(m.ActionBarIcon,{icon:e.icon}),contentClassName:a?"rc-action-bar-submenu-content":""},e.menu.menuContent);default:const n={nodeType:"action",actionType:e.actionType},i={key:e.actionType,value:n,withLeftAccessory:o.createElement(m.ActionBarIcon,{icon:e.icon}),disabled:E,withRightAccessory:e.showNewBadge?o.createElement(r.AccessoryBadge,null,t.formatMessage({id:"VgsgAq",defaultMessage:"New"})):null},s={interactive:!0,disabled:E,ref:g,withLeftAccessory:o.createElement(m.ActionBarIcon,{icon:e.icon}),onClick:A},d=o.createElement(c.Menu.ActionItem,Object.assign({},i),v),u=o.createElement(c.Menu.Row,Object.assign({},s),v);return e.disabledTooltip&&E?o.createElement(l.Tooltip,{title:e.disabledTooltip,placement:"left",id:"tooltip-item"},o.createElement(c.Menu.ActionItem,Object.assign({},i,{value:"NOOP_SEE_DSYS-1278",disabled:!1,className:E?"visuallyDisabled-see-DSYS-1278":""}),v)):e.actionType===f.ActionBarActionTypes.SHARE_COPY_LINK?u:e.tooltip?o.createElement(l.Tooltip,{title:e.tooltip,placement:"left",id:"tooltip-item"},d):d}},t.ActionBarOverflowMenuItem.displayName="ActionBarOverflowMenuItem"})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_utils",["require","exports","react-intl"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createActionBarActionEventInfo=t.getAccessibilityLabel=t.ACTION_ARIAL_LABEL=t.MORE_TOOLTIP_STRING=t.MORE_MENU_STRING=void 0,t.MORE_MENU_STRING=(0,n.defineMessage)({id:"3kB3s4",defaultMessage:"More menu"}),t.MORE_TOOLTIP_STRING=(0,n.defineMessage)({id:"06UTVR",defaultMessage:"More"}),t.ACTION_ARIAL_LABEL=(0,n.defineMessage)({id:"XyseuH",defaultMessage:"{action}, applies to {noOfFiles, plural, one{{fileName}} other{{noOfFiles} selected files}}"}),t.getAccessibilityLabel=function(e,n,o){return o?e.formatMessage(t.ACTION_ARIAL_LABEL,{action:n,noOfFiles:o.noOfEntries,fileName:o.firstEntryAccessibilityHint}):n};t.createActionBarActionEventInfo=(e,t,n)=>{try{switch((e=e).nodeType){case"action":return{type:e.actionType,event:n,source:t};case"dropdown":return{type:e.actionType,menuItem:e.menuItem,event:n,source:t};default:return}}catch(e){return}}})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_split_button",["require","exports","tslib","react","dig-components/buttons","dig-components/menu","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_action_menu","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_icon"],(function(e,t,n,o,i,r,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarSplitButton=void 0,o=n.__importStar(o);t.ActionBarSplitButton=({disabled:e,value:t,intl:n,onClick:c,onSelection:l,onToggle:d,icon:u,ariaLabel:p,menuSections:m,className:_,expActionBarRedesignEnabled:f})=>{const E=o.useMemo(()=>({withIconLeft:u?o.createElement(s.ActionBarIcon,{icon:u}):void 0}),[u]);return o.createElement(i.SplitButton,Object.assign({variant:"opacity",disabled:e,renderMenu:({buttonProps:e})=>o.createElement(r.Menu.Wrapper,{onSelection:l,onToggle:d,className:_},({getTriggerProps:s,getContentProps:c})=>o.createElement(o.Fragment,null,o.createElement(i.Button,Object.assign({"aria-label":n.formatMessage({id:"y4xCgb",defaultMessage:"Expand menu for {action}"},{action:t})},e,s())),o.createElement(r.Menu.Content,Object.assign({},c(),{placement:"bottom-end"}),o.createElement(a.ActionBarActionMenuContent,{menuSections:m,expActionBarRedesignEnabled:f})))),onClick:c,className:"rc-action-bar-split-button","aria-label":p},E),t)},t.ActionBarSplitButton.displayName="ActionBarSplitButton"})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_icon",["require","exports","tslib","react","dig-components/icons"],(function(e,t,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBarIcon=void 0,o=n.__importStar(o);t.ActionBarIcon=({icon:e})=>o.isValidElement(e)?e:o.createElement(i.UIIcon,{src:e}),t.ActionBarIcon.displayName="ActionBarIcon"})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/inline_action_bar",["require","exports","tslib","classnames","react","dig-components/buttons","dig-components/tooltips","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_icon","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_overflow_menu","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","typescript/component_libraries/retrieval-components/src/highlighted-truncated-string/em-string"],(function(e,t,n,o,i,r,a,s,c,l,d){"use strict";function u({action:e,actionHandler:t,intl:n,useCopyLinkTextVariant:o}){function c(n){t.handleAction({type:e.actionType,event:n,source:l.ActionBarActionEventSource.BUTTON,anchorRef:u})}const d=n.formatMessage(e.text),u=i.useRef(null);return o&&e.actionType===l.ActionBarActionTypes.SHARE_COPY_LINK?i.createElement(a.Tooltip,{title:e.tooltip,triggerRef:u},i.createElement(r.Button,{variant:"opacity",onClick:c,disabled:!e.isEnabled},d)):i.createElement(a.Tooltip,{title:d,triggerRef:u},i.createElement(r.IconButton,{"aria-label":d,variant:"transparent",onClick:c,disabled:!e.isEnabled},i.createElement(s.ActionBarIcon,{icon:e.icon})))}Object.defineProperty(t,"__esModule",{value:!0}),t.InlineActionBar=void 0,o=n.__importDefault(o),i=n.__importStar(i),t.InlineActionBar=function(e){const{actionHandler:t,actions:n,className:r,handleOverflowMenuToggle:a,highlighted:s,intl:p,overflowMenuTitle:m,expActionBarRedesignEnabled:_,isMobile:f,overflowMenuOpenRequest:E,overflowMenuCloseRequest:v,overflowMenuCoordinates:g,resolveOverflowMenuOpenRequest:A,hideOverflowMenuHeader:b,useCopyLinkTextVariant:h,resetOverflowMenuCoordinates:T,logPDFEditImpression:O}=e,{atTopLevelIfSpace:R,alwaysInOverflow:w}=i.useMemo(()=>{var e;return{atTopLevelIfSpace:(null===(e=n.alwaysAtTopLevel)||void 0===e?void 0:e.filter(e=>e.actionType===l.ActionBarActionTypes.SHARE_MODAL||e.actionType===l.ActionBarActionTypes.SHARE_COPY_LINK||e.actionType===l.ActionBarActionTypes.STAR||e.actionType===l.ActionBarActionTypes.UNSTAR||e.actionType===l.ActionBarActionTypes.ADD_TO_COLLECTION))||[],alwaysInOverflow:n.alwaysInOverflow||[]}},[n]);let M=-(24+40*(R.length+1));const y=h&&R.filter(e=>e.actionType===l.ActionBarActionTypes.SHARE_COPY_LINK)[0];if(y){const e=p.formatMessage(y.text);M-=12*new d.Emstring(e).length}return i.createElement("div",{className:(0,o.default)("rc-inline-action-bar-container",r,{"rc-inline-action-bar-container--highlighted":s}),style:{marginLeft:`${M}px`},onClick:()=>{g&&T&&T()}},!!R.length&&R.map((e,n)=>i.createElement(u,{key:`inline-action-bar-button-${n}`,action:e,actionHandler:t,intl:p,useCopyLinkTextVariant:h})),(null==w?void 0:w.some(e=>e.length>0))&&i.createElement(c.ActionBarOverflowMenu,{actions:{atTopLevelIfSpace:R,alwaysInOverflow:w},actionHandler:t,buttonVariant:"transparent",intl:p,onToggle:a,showTooltip:!0,overflowMenuTitle:m,expActionBarRedesignEnabled:_,isMobile:f,overflowMenuOpenRequest:E,overflowMenuCloseRequest:v,overflowMenuCoordinates:g,resolveOverflowMenuOpenRequest:A,hideOverflowMenuHeader:b,logPDFEditImpression:O}))}})),define("typescript/component_libraries/retrieval-components/src/simple-action-bar/inline_overflow_menu",["require","exports","tslib","react","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_overflow_menu"],(function(e,t,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineOverflowMenu=void 0,o=n.__importStar(o),t.InlineOverflowMenu=function(e){const{accessibilityConfig:t,actionHandler:n,actions:r,handleOverflowMenuToggle:a,intl:s,className:c,size:l,inverse:d,overflowMenuTitle:u,expActionBarRedesignEnabled:p=!1,isMobile:m,hideOverflowMenuHeader:_}=e,{alwaysAtTopLevel:f,atTopLevelIfSpace:E,alwaysInOverflow:v}=o.useMemo(()=>({alwaysAtTopLevel:r.alwaysAtTopLevel,atTopLevelIfSpace:r.atTopLevelIfSpace,alwaysInOverflow:r.alwaysInOverflow}),[r]);return o.createElement("div",{className:c},!!(null==v?void 0:v.length)&&o.createElement(i.ActionBarOverflowMenu,{accessibilityConfig:t,actions:{alwaysAtTopLevel:f,atTopLevelIfSpace:E,alwaysInOverflow:v},actionHandler:n,buttonVariant:"transparent",intl:s,onToggle:a,showTooltip:!0,size:l,inverse:d,overflowMenuTitle:u,expActionBarRedesignEnabled:p,isMobile:m,hideOverflowMenuHeader:_}))}})),define("typescript/component_libraries/retrieval-components/src/hooks/resize_observer",["require","exports","tslib","react","resize-observer-polyfill"],(function(e,t,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useResizeObserver=void 0,i=n.__importDefault(i),t.useResizeObserver=function(){const e=(0,o.useRef)(null),t=(0,o.useRef)(),[n,r]=(0,o.useState)(),a=(0,o.useCallback)(()=>{t.current=new i.default(e=>r(e[0])),(null==e?void 0:e.current)&&t.current.observe(e.current)},[e.current]);return(0,o.useLayoutEffect)(()=>(a(),()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.disconnect()}),[a]),[e,n]}}));
//# sourceMappingURL=pkg-edison.min.js-vfli6hQ_5.map